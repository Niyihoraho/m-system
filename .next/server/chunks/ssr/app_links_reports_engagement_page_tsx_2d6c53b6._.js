module.exports=[13399,a=>{"use strict";a.s(["default",()=>aL],13399);var b=a.i(87924),c=a.i(72131),d=a.i(75003),e=a.i(50944),f=a.i(37073),g=a.i(18155),h=a.i(23665),i=a.i(58042),j=a.i(94222),k=a.i(54419),l=a.i(59854),m=a.i(48662),n=a.i(64321),o=a.i(27165),p=a.i(67149),q=a.i(85811),r=a.i(39622),s=a.i(554),t=a.i(31760),u=["axis"],v=(0,c.forwardRef)((a,b)=>c.createElement(t.CartesianChart,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:u,tooltipPayloadSearcher:s.arrayTooltipSearcher,categoricalChartProps:a,ref:b})),w=c,x=a.i(98621),y=a.i(13667),z=a.i(25428),A=a.i(88949),B=a.i(36319),C=a.i(68932),D=a.i(37082),E=a.i(2321),F=a.i(56295),G=a.i(53242),H=a.i(12791),I=a.i(83663),J=a.i(17913),K=a.i(98382),L=a.i(25392),M=a.i(44381),N=a.i(98563),O=a.i(12168),P=(a,b,c,d)=>(0,O.selectAxisWithScale)(a,"xAxis",b,d),Q=(a,b,c,d)=>(0,O.selectTicksOfGraphicalItem)(a,"xAxis",b,d),R=(a,b,c,d)=>(0,O.selectAxisWithScale)(a,"yAxis",c,d),S=(a,b,c,d)=>(0,O.selectTicksOfGraphicalItem)(a,"yAxis",c,d),T=(0,M.createSelector)([K.selectChartLayout,P,R,Q,S],(a,b,c,d,e)=>(0,F.isCategoricalAxis)(a,"xAxis")?(0,F.getBandSizeOfAxis)(b,d,!1):(0,F.getBandSizeOfAxis)(c,e,!1));function U(a){return"line"===a.type}var V=(0,M.createSelector)([O.selectUnfilteredCartesianItems,(a,b,c,d,e)=>e],(a,b)=>a.filter(U).find(a=>a.id===b)),W=(0,M.createSelector)([K.selectChartLayout,P,R,Q,S,V,T,N.selectChartDataWithIndexesIfNotInPanorama],(a,b,c,d,e,f,g,h)=>{var i,{chartData:j,dataStartIndex:k,dataEndIndex:l}=h;if(null!=f&&null!=b&&null!=c&&null!=d&&null!=e&&0!==d.length&&0!==e.length&&null!=g){var{dataKey:m,data:n}=f;if(null!=(i=null!=n&&n.length>0?n:null==j?void 0:j.slice(k,l+1)))return function(a){var{layout:b,xAxis:c,yAxis:d,xAxisTicks:e,yAxisTicks:f,dataKey:g,bandSize:h,displayedData:i}=a;return i.map((a,i)=>{var j=(0,F.getValueByDataKey)(a,g);if("horizontal"===b)return{x:(0,F.getCateCoordinateOfLine)({axis:c,ticks:e,bandSize:h,entry:a,index:i}),y:(0,C.isNullish)(j)?null:d.scale(j),value:j,payload:a};var k=(0,C.isNullish)(j)?null:c.scale(j),l=(0,F.getCateCoordinateOfLine)({axis:d,ticks:f,bandSize:h,entry:a,index:i});return null==k||null==l?null:{x:k,y:l,value:j,payload:a}}).filter(Boolean)}({layout:a,xAxis:b,yAxis:c,xAxisTicks:d,yAxisTicks:e,dataKey:m,bandSize:g,displayedData:i})}}),X=a.i(77368),Y=a.i(92430),Z=a.i(62320),$=a.i(87293),_=a.i(36745),aa=a.i(46780),ab=a.i(77025),ac=a.i(72853),ad=a.i(76342),ae=["id"],af=["type","layout","connectNulls","needClip"],ag=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ah(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ai(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ah(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ah(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function aj(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function ak(){return(ak=Object.assign.bind()).apply(null,arguments)}function al(a){var{dataKey:b,data:c,stroke:d,strokeWidth:e,fill:f,name:g,hide:h,unit:i}=a;return{dataDefinedOnItem:c,positions:void 0,settings:{stroke:d,strokeWidth:e,fill:f,dataKey:b,nameKey:void 0,name:(0,F.getTooltipNameProp)(g,b),hide:h,type:a.tooltipType,color:a.stroke,unit:i}}}var am=(a,b)=>"".concat(b,"px ").concat(a-b,"px");function an(a){var{clipPathId:b,points:c,props:d}=a,{dot:e,dataKey:f,needClip:g}=d;if(null==c||!e&&1!==c.length)return null;var{id:h}=d,i=aj(d,ae),j=(0,D.isClipDot)(e),k=(0,ac.svgPropertiesNoEvents)(i),l=(0,D.filterProps)(e,!0),m=c.map((a,b)=>{var d,g=ai(ai(ai({key:"dot-".concat(b),r:3},k),l),{},{index:b,cx:a.x,cy:a.y,dataKey:f,value:a.value,payload:a.payload,points:c});if(w.isValidElement(e))d=w.cloneElement(e,g);else if("function"==typeof e)d=e(g);else{var h=(0,x.clsx)("recharts-line-dot","boolean"!=typeof e?e.className:"");d=w.createElement(z.Dot,ak({},g,{className:h}))}return d}),n={clipPath:g?"url(#clipPath-".concat(j?"":"dots-").concat(b,")"):void 0};return w.createElement(A.Layer,ak({className:"recharts-line-dots",key:"dots"},n),m)}function ao(a){var{showLabels:b,children:c,points:d}=a,e=(0,w.useMemo)(()=>null==d?void 0:d.map(a=>{var b={x:a.x,y:a.y,width:0,height:0};return ai(ai({},b),{},{value:a.value,payload:a.payload,viewBox:b,parentViewBox:void 0,fill:void 0})}),[d]);return w.createElement(B.CartesianLabelListContextProvider,{value:b?e:null},c)}function ap(a){var{clipPathId:b,pathRef:c,points:d,strokeDasharray:e,props:f}=a,{type:g,layout:h,connectNulls:i,needClip:j}=f,k=aj(f,af),l=ai(ai({},(0,D.filterProps)(k,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:j?"url(#clipPath-".concat(b,")"):void 0,points:d,type:g,layout:h,connectNulls:i,strokeDasharray:null!=e?e:f.strokeDasharray});return w.createElement(w.Fragment,null,(null==d?void 0:d.length)>1&&w.createElement(y.Curve,ak({},l,{pathRef:c})),w.createElement(an,{points:d,clipPathId:b,props:f}))}function aq(a){var{clipPathId:b,props:c,pathRef:d,previousPointsRef:e,longestAnimatedLengthRef:f}=a,{points:g,strokeDasharray:h,isAnimationActive:i,animationBegin:j,animationDuration:k,animationEasing:l,animateNewValues:m,width:n,height:o,onAnimationEnd:p,onAnimationStart:q}=c,r=e.current,s=(0,Z.useAnimationId)(c,"recharts-line-"),[t,u]=(0,w.useState)(!1),v=(0,w.useCallback)(()=>{"function"==typeof p&&p(),u(!1)},[p]),x=(0,w.useCallback)(()=>{"function"==typeof q&&q(),u(!0)},[q]),y=function(a){try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch(a){return 0}}(d.current),z=f.current;return w.createElement(ao,{points:g,showLabels:!t},c.children,w.createElement(ad.JavascriptAnimate,{animationId:s,begin:j,duration:k,isActive:i,easing:l,onAnimationEnd:v,onAnimationStart:x,key:s},a=>{var j,k=Math.min((0,C.interpolate)(z,y+z,a),y);if(j=i?h?((a,b,c)=>{var d=c.reduce((a,b)=>a+b);if(!d)return am(b,a);for(var e=Math.floor(a/d),f=a%d,g=b-a,h=[],i=0,j=0;i<c.length;j+=c[i],++i)if(j+c[i]>f){h=[...c.slice(0,i),f-j];break}var k=h.length%2==0?[0,g]:[g];return[...function(a,b){for(var c=a.length%2!=0?[...a,0]:a,d=[],e=0;e<b;++e)d=[...d,...c];return d}(c,e),...h,...k].map(a=>"".concat(a,"px")).join(", ")})(k,y,"".concat(h).split(/[,\s]+/gim).map(a=>parseFloat(a))):am(y,k):null==h?void 0:String(h),r){var l=r.length/g.length,p=1===a?g:g.map((b,c)=>{var d=Math.floor(c*l);if(r[d]){var e=r[d];return ai(ai({},b),{},{x:(0,C.interpolate)(e.x,b.x,a),y:(0,C.interpolate)(e.y,b.y,a)})}return m?ai(ai({},b),{},{x:(0,C.interpolate)(2*n,b.x,a),y:(0,C.interpolate)(o/2,b.y,a)}):ai(ai({},b),{},{x:b.x,y:b.y})});return e.current=p,w.createElement(ap,{props:c,points:p,clipPathId:b,pathRef:d,strokeDasharray:j})}return a>0&&y>0&&(e.current=g,f.current=k),w.createElement(ap,{props:c,points:g,clipPathId:b,pathRef:d,strokeDasharray:j})}),w.createElement(B.LabelListFromLabelProp,{label:c.label}))}function ar(a){var{clipPathId:b,props:c}=a,d=(0,w.useRef)(null),e=(0,w.useRef)(0),f=(0,w.useRef)(null);return w.createElement(aq,{props:c,clipPathId:b,previousPointsRef:d,longestAnimatedLengthRef:e,pathRef:f})}var as=(a,b)=>({x:a.x,y:a.y,value:a.value,errorVal:(0,F.getValueByDataKey)(a.payload,b)});class at extends w.Component{render(){var a,{hide:b,dot:c,points:d,className:e,xAxisId:f,yAxisId:g,top:h,left:i,width:j,height:k,id:l,needClip:m}=this.props;if(b)return null;var n=(0,x.clsx)("recharts-line",e),{r:o=3,strokeWidth:p=2}=null!=(a=(0,D.filterProps)(c,!1))?a:{r:3,strokeWidth:2},q=(0,D.isClipDot)(c),r=2*o+p;return w.createElement(w.Fragment,null,w.createElement(A.Layer,{className:n},m&&w.createElement("defs",null,w.createElement(J.GraphicalItemClipPath,{clipPathId:l,xAxisId:f,yAxisId:g}),!q&&w.createElement("clipPath",{id:"clipPath-dots-".concat(l)},w.createElement("rect",{x:i-r/2,y:h-r/2,width:j+r,height:k+r}))),w.createElement(I.SetErrorBarContext,{xAxisId:f,yAxisId:g,data:d,dataPointFormatter:as,errorBarOffset:0},w.createElement(ar,{props:this.props,clipPathId:l}))),w.createElement(G.ActivePoints,{activeDot:this.props.activeDot,points:d,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var au={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!E.Global.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function av(a){var b=(0,$.resolveDefaultProps)(a,au),{activeDot:c,animateNewValues:d,animationBegin:e,animationDuration:f,animationEasing:g,connectNulls:h,dot:i,hide:j,isAnimationActive:k,label:l,legendType:m,xAxisId:n,yAxisId:o,id:p}=b,q=aj(b,ag),{needClip:r}=(0,J.useNeedsClip)(n,o),s=(0,_.usePlotArea)(),t=(0,K.useChartLayout)(),u=(0,L.useIsPanorama)(),v=(0,X.useAppSelector)(a=>W(a,n,o,u,p));if("horizontal"!==t&&"vertical"!==t||null==v||null==s)return null;var{height:x,width:y,x:z,y:A}=s;return w.createElement(at,ak({},q,{id:p,connectNulls:h,dot:i,activeDot:c,animateNewValues:d,animationBegin:e,animationDuration:f,animationEasing:g,isAnimationActive:k,hide:j,label:l,legendType:m,xAxisId:n,yAxisId:o,points:v,layout:t,height:x,width:y,left:z,top:A,needClip:r}))}function aw(a){var b=(0,$.resolveDefaultProps)(a,au),c=(0,L.useIsPanorama)();return w.createElement(aa.RegisterGraphicalItemId,{id:b.id,type:"line"},a=>w.createElement(w.Fragment,null,w.createElement(Y.SetLegendPayload,{legendPayload:(a=>{var{dataKey:b,name:c,stroke:d,legendType:e,hide:f}=a;return[{inactive:f,dataKey:b,type:e,color:d,value:(0,F.getTooltipNameProp)(c,b),payload:a}]})(b)}),w.createElement(H.SetTooltipEntrySettings,{fn:al,args:b}),w.createElement(ab.SetCartesianGraphicalItem,{type:"line",id:a,data:b.data,xAxisId:b.xAxisId,yAxisId:b.yAxisId,zAxisId:0,dataKey:b.dataKey,hide:b.hide,isPanorama:c}),w.createElement(av,ak({},b,{id:a}))))}aw.displayName="Line";var ax=a.i(3130),ay=a.i(87682),az=a.i(17171),aA=a.i(5522),aB=a.i(40695),aC=a.i(39793),aD=a.i(89130),aE=a.i(42247),aF=a.i(7379),aG=a.i(14727);let aH=a=>(0,b.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...a,children:[(0,b.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.jsx)("circle",{cx:"9",cy:"7",r:"4",stroke:"currentColor",strokeWidth:"2"}),(0,b.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),aI=a=>(0,b.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...a,children:[(0,b.jsx)("polyline",{points:"23,6 13.5,15.5 8.5,10.5 1,18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.jsx)("polyline",{points:"17,6 23,6 23,12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),aJ=a=>(0,b.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...a,children:[(0,b.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"2"}),(0,b.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6",stroke:"currentColor",strokeWidth:"2"}),(0,b.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6",stroke:"currentColor",strokeWidth:"2"}),(0,b.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10",stroke:"currentColor",strokeWidth:"2"})]}),aK=a=>(0,b.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...a,children:[(0,b.jsx)("circle",{cx:"12",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"2"}),(0,b.jsx)("path",{d:"M15.477 12.89L17 22l-5-3-5 3 1.523-9.11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]});function aL(){let{data:a,status:s}=(0,d.useSession)(),t=(0,e.useRouter)(),[u,w]=(0,c.useState)("6months"),[x,y]=(0,c.useState)("all"),[z,A]=(0,c.useState)("all"),[B,C]=(0,c.useState)("all"),[D,E]=(0,c.useState)("all"),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)("event"),[L,M]=(0,c.useState)("all"),[N,O]=(0,c.useState)("all"),[P,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)(!0),[X,Y]=(0,c.useState)(!1),Z=(0,c.useRef)(null),[$,_]=(0,c.useState)([]),[aa,ab]=(0,c.useState)([]),[ac,ad]=(0,c.useState)([]),[ae,af]=(0,c.useState)([]),[ag,ah]=(0,c.useState)([]),[ai,aj]=(0,c.useState)([]);(0,c.useEffect)(()=>{"unauthenticated"===s&&t.push("/")},[s,t]);let ak=()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].slice(0,new Date().getMonth()+1).map((a,b)=>{let c=120+8*b+b%3*15,d=45+3*b+b%2*8;return{month:a,eventAttendance:c,designationParticipation:d,totalEngagement:c+d,engagementRate:75+b%4*5,activeMembers:850+25*b+b%3*10}}),al=()=>[{name:"Events",value:65,color:"#3B82F6",count:1250},{name:"Designations",value:35,color:"#10B981",count:675}],am=()=>[{region:"North",totalEngagement:450,eventEngagement:320,designationEngagement:130,engagementRate:78},{region:"South",totalEngagement:380,eventEngagement:280,designationEngagement:100,engagementRate:72},{region:"East",totalEngagement:520,eventEngagement:380,designationEngagement:140,engagementRate:85},{region:"West",totalEngagement:340,eventEngagement:250,designationEngagement:90,engagementRate:68},{region:"Central",totalEngagement:290,eventEngagement:200,designationEngagement:90,engagementRate:65}],an=()=>[{name:"High Engagement",value:40,color:"#10B981",count:320},{name:"Medium Engagement",value:35,color:"#F59E0B",count:280},{name:"Low Engagement",value:25,color:"#EF4444",count:200}],[ao,ap]=(0,c.useState)(null),[aq,ar]=(0,c.useState)(!0),[as,at]=(0,c.useState)(null),[au,av]=(0,c.useState)(!1),[aL,aM]=(0,c.useState)(!1);(0,c.useEffect)(()=>{S(!0),aO(),aS(),aT(),aN()},[]);let aN=async(a=!0)=>{try{a&&ar(!0),at(null);let b=new URLSearchParams;x&&"all"!==x&&b.append("regionId",x),z&&"all"!==z&&b.append("universityId",z),B&&"all"!==B&&b.append("smallGroupId",B),D&&"all"!==D&&b.append("alumniGroupId",D),F&&b.append("dateFrom",F),H&&b.append("dateTo",H),J&&b.append("engagementType",J),L&&"all"!==L&&b.append("selectedEvent",L),N&&"all"!==N&&b.append("selectedDesignation",N);let c=await fetch(`/api/engagement/analytics?${b.toString()}`);if(!c.ok)throw Error("Failed to fetch engagement analytics data");let d=await c.json();ap(d)}catch(a){console.error("Error fetching engagement analytics:",a),at(a instanceof Error?a.message:"Failed to fetch engagement analytics data"),ap({engagementTrends:ak(),engagementTypeDistribution:al(),regionalEngagement:am(),eventEngagementLevels:an(),keyMetrics:{totalEngagement:1980,averageEngagementRate:73.6,eventParticipation:1430,designationParticipation:550,monthlyGrowth:12.5}})}finally{a&&ar(!1)}},aO=async()=>{try{let a=await fetch("/api/regions"),b=await a.json();_(b)}catch(a){console.error("Error fetching regions:",a)}};(0,c.useEffect)(()=>{x&&"all"!==x?(aP(Number(x)),aR(Number(x))):(ab([]),af([]),A(""),E(""))},[x]),(0,c.useEffect)(()=>{z&&"all"!==z?aQ(Number(z)):(ad([]),C(""))},[z]);let aP=async a=>{try{let b=await fetch(`/api/universities?regionId=${a}`),c=await b.json();ab(c)}catch(a){console.error("Error fetching universities:",a)}},aQ=async a=>{try{let b=await fetch(`/api/small-groups?universityId=${a}`),c=await b.json();ad(c)}catch(a){console.error("Error fetching small groups:",a)}},aR=async a=>{try{let b=await fetch(`/api/alumni-small-groups?regionId=${a}`),c=await b.json();af(c)}catch(a){console.error("Error fetching alumni groups:",a)}},aS=async(a,b,c,d)=>{try{av(!0);let e=new URLSearchParams;a&&"all"!==a&&e.append("regionId",a),b&&"all"!==b&&e.append("universityId",b),c&&"all"!==c&&e.append("smallGroupId",c),d&&"all"!==d&&e.append("alumniGroupId",d);let f=await fetch(`/api/events?${e.toString()}`);if(!f.ok)throw Error("Failed to fetch events");let g=await f.json();ah(g.events||g||[])}catch(a){console.error("Error fetching events:",a)}finally{av(!1)}},aT=async(a,b,c,d)=>{try{aM(!0);let e=new URLSearchParams;a&&"all"!==a&&e.append("regionId",a),b&&"all"!==b&&e.append("universityId",b),c&&"all"!==c&&e.append("smallGroupId",c),d&&"all"!==d&&e.append("alumniGroupId",d);let f=await fetch(`/api/designations?${e.toString()}`);if(!f.ok)throw Error("Failed to fetch designations");let g=await f.json();aj(g.designations||g||[])}catch(a){console.error("Error fetching designations:",a)}finally{aM(!1)}};(0,c.useEffect)(()=>{R&&aN(!1)},[x,z,B,D,F,H,J,L,N]),(0,c.useEffect)(()=>{R&&(x||z||B||D)&&(aS(x,z,B,D),aT(x,z,B,D))},[x,z,B,D]),(0,c.useEffect)(()=>{fetch("/api/members/current-user-scope").then(a=>a.json()).then(a=>{a.scope&&Q("superadmin"===a.scope.scope)}).catch(a=>{console.error("Failed to fetch user scope:",a)})},[]);let aU=(0,c.useMemo)(()=>ao&&ao.keyMetrics?{totalEngagement:ao.keyMetrics.totalEngagement||0,averageEngagementRate:ao.keyMetrics.averageEngagementRate||0,eventParticipation:ao.keyMetrics.eventParticipation||0,designationParticipation:ao.keyMetrics.designationParticipation||0,monthlyGrowth:ao.keyMetrics.monthlyGrowth||0}:{totalEngagement:0,averageEngagementRate:0,eventParticipation:0,designationParticipation:0,monthlyGrowth:0},[ao]),aV=(0,c.useMemo)(()=>ao?{engagementTrends:ao.engagementTrends||ak(),engagementTypeDistribution:ao.engagementTypeDistribution||al(),regionalEngagement:ao.regionalEngagement||am(),eventEngagementLevels:ao.eventEngagementLevels||an()}:{engagementTrends:ak(),engagementTypeDistribution:al(),regionalEngagement:am(),eventEngagementLevels:an()},[ao]),aW=[{value:"3months",label:"Last 3 Months"},{value:"6months",label:"Last 6 Months"},{value:"1year",label:"Last Year"},{value:"all",label:"All Time"}],aX=[{value:"event",label:"Events"},{value:"designation",label:"Designations"}],aY=async()=>{try{let a=new URLSearchParams;x&&"all"!==x&&a.append("regionId",x),z&&"all"!==z&&a.append("universityId",z),B&&"all"!==B&&a.append("smallGroupId",B),D&&"all"!==D&&a.append("alumniGroupId",D),F&&a.append("dateFrom",F),H&&a.append("dateTo",H),J&&a.append("engagementType",J),L&&"all"!==L&&a.append("selectedEvent",L),N&&"all"!==N&&a.append("selectedDesignation",N);let b=await fetch(`/api/engagement/export-details?${a.toString()}`);if(!b.ok)throw Error("Failed to fetch engagement details");return await b.json()}catch(a){return console.error("Error fetching engagement details:",a),null}},aZ=async()=>{if(Z.current){U(!0);try{let a=await aY(),b=new f.default("p","mm","a4"),c=b.internal.pageSize.getWidth(),d=b.internal.pageSize.getHeight();if(b.setFontSize(20),b.setFont("helvetica","bold"),b.text("Ministry Management System",c/2,20,{align:"center"}),b.setFontSize(16),b.setFont("helvetica","normal"),b.text("Engagement Reports & Analytics",c/2,30,{align:"center"}),b.setFontSize(10),b.text(`Generated on: ${new Date().toLocaleDateString()}`,20,45),b.text(`Report Period: ${aW.find(a=>a.value===u)?.label||"Custom"}`,20,50),b.text(`Engagement Type: ${aX.find(a=>a.value===J)?.label}`,20,55),"event"===J&&"all"!==L){let a=ag.find(a=>a.id.toString()===L);b.text(`Selected Event: ${a?.name||L}`,20,60)}if("designation"===J&&"all"!==N){let a=ai.find(a=>a.id.toString()===N);b.text(`Selected Designation: ${a?.name||N}`,20,60)}if(b.setFontSize(12),b.setFont("helvetica","bold"),b.text("Executive Summary",20,70),b.setFontSize(10),b.setFont("helvetica","normal"),b.text(`Total Engagement: ${aU.totalEngagement.toLocaleString()}`,20,80),b.text(`Average Engagement Rate: ${aU.averageEngagementRate}%`,20,85),b.text(`Event Participation: ${aU.eventParticipation}`,20,90),b.text(`Designation Participation: ${aU.designationParticipation}`,20,95),b.text(`Monthly Growth: ${aU.monthlyGrowth}%`,20,100),a&&a.engagementDetails.length>0){let c=120;120>d-50&&(b.addPage(),c=20),b.setFontSize(14),b.setFont("helvetica","bold"),b.text("Engagement Details",20,c),c+=10,b.setFontSize(10),b.setFont("helvetica","normal");let e=a.appliedFilters,f=Object.entries(e).filter(([a,b])=>b&&"all"!==b&&""!==b).map(([a,b])=>`${a}: ${b}`).join(", ");f&&(b.text(`Applied Filters: ${f}`,20,c),c+=8),b.text(`Total Engagement Records: ${a.totalCount}`,20,c),c+=15,b.setFontSize(8),b.setFont("helvetica","bold");let g=[15,35,40,20,25,25],h=20;["Type","Member","Event/Designation","Status","Date","Region"].forEach((a,d)=>{b.text(a,h,c),h+=g[d]}),c+=5,b.line(20,c,20+g.reduce((a,b)=>a+b,0),c),c+=3,b.setFont("helvetica","normal"),a.engagementDetails.slice(0,50).forEach((a,e)=>{c>d-20&&(b.addPage(),c=20),h=20,[a.type||"N/A",a.memberName||"N/A",a.eventName||a.designationName||"N/A",a.attendanceStatus||a.status||"N/A",a.recordedAt?new Date(a.recordedAt).toLocaleDateString():a.createdAt?new Date(a.createdAt).toLocaleDateString():"N/A",a.region||"N/A"].forEach((a,d)=>{let e=a.length>15?a.substring(0,12)+"...":a;b.text(e,h,c),h+=g[d]}),c+=5})}let e=`Engagement_Report_${J}_${new Date().toISOString().split("T")[0]}.pdf`;b.save(e)}catch(a){console.error("Error generating PDF:",a),alert("Error generating PDF. Please try again.")}finally{U(!1)}}};return"loading"===s?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):"unauthenticated"===s?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Redirecting..."}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"Please wait while we redirect you to the login page."})]})}):!R||aq?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading engagement data..."}),(0,b.jsx)("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2",children:"Fetching analytics and chart data..."})]})}):as?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-red-600 mb-4",children:(0,b.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Error Loading Data"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:as}),(0,b.jsx)("button",{onClick:()=>aN(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})}):(0,b.jsxs)(aG.SidebarProvider,{children:[(0,b.jsx)(aC.AppSidebar,{}),(0,b.jsxs)(aG.SidebarInset,{children:[(0,b.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 px-4",children:[(0,b.jsx)(aG.SidebarTrigger,{className:"-ml-1"}),(0,b.jsx)(aF.Separator,{orientation:"vertical",className:"mr-2 data-[orientation=vertical]:h-4"}),(0,b.jsx)(aE.Breadcrumb,{children:(0,b.jsxs)(aE.BreadcrumbList,{children:[(0,b.jsx)(aE.BreadcrumbItem,{className:"hidden md:block",children:(0,b.jsx)(aE.BreadcrumbLink,{href:"/dashboard",children:"Dashboard"})}),(0,b.jsx)(aE.BreadcrumbSeparator,{className:"hidden md:block"}),(0,b.jsx)(aE.BreadcrumbItem,{children:(0,b.jsx)(aE.BreadcrumbLink,{href:"/links/reports",children:"Reports"})}),(0,b.jsx)(aE.BreadcrumbSeparator,{}),(0,b.jsx)(aE.BreadcrumbItem,{children:(0,b.jsx)(aE.BreadcrumbPage,{children:"Engagement Analytics"})})]})})]}),(0,b.jsx)("div",{className:"ml-auto px-4",children:(0,b.jsx)(aD.LogoutButton,{})})]}),(0,b.jsx)("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:(0,b.jsxs)("div",{className:"space-y-6",ref:Z,children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white dark:text-white",children:"Engagement Analytics"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive engagement reports and insights"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(aB.Button,{onClick:()=>W(!V),variant:"outline",className:"flex items-center gap-2",children:V?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Hide Filters"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Show Filters"]})}),(0,b.jsxs)("div",{className:"relative export-options-dropdown",children:[(0,b.jsxs)(aB.Button,{onClick:()=>Y(!X),variant:"outline",className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Options",(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),X&&(0,b.jsx)("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10",children:(0,b.jsx)("div",{className:"p-4 space-y-4",children:(0,b.jsx)(aB.Button,{onClick:()=>{Y(!1),aZ()},disabled:T,className:"w-full flex items-center justify-center gap-2",children:T?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export PDF"]})})})})]})]})]}),V&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(ax.Card,{children:[(0,b.jsx)(ax.CardHeader,{children:(0,b.jsxs)(ax.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Organizational Structure"]})}),(0,b.jsx)(ax.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(az.Label,{htmlFor:"region",children:"Region"}),(0,b.jsxs)(ay.Select,{value:x,onValueChange:a=>{y(a),A("all"),C("all"),E("all"),M("all"),O("all"),aS(a),aT(a)},children:[(0,b.jsx)(ay.SelectTrigger,{children:(0,b.jsx)(ay.SelectValue,{placeholder:"Select region"})}),(0,b.jsxs)(ay.SelectContent,{children:[(0,b.jsx)(ay.SelectItem,{value:"all",children:"All Regions"}),$.map(a=>(0,b.jsx)(ay.SelectItem,{value:a.id.toString(),children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(az.Label,{htmlFor:"university",children:"University"}),(0,b.jsxs)(ay.Select,{value:z,onValueChange:a=>{A(a),C("all"),E("all"),M("all"),O("all"),aS(x,a),aT(x,a)},disabled:!x||"all"===x,children:[(0,b.jsx)(ay.SelectTrigger,{children:(0,b.jsx)(ay.SelectValue,{placeholder:x&&"all"!==x?"Select university":"Select region first"})}),(0,b.jsxs)(ay.SelectContent,{children:[(0,b.jsx)(ay.SelectItem,{value:"all",children:"All Universities"}),aa.map(a=>(0,b.jsx)(ay.SelectItem,{value:a.id.toString(),children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(az.Label,{htmlFor:"smallGroup",children:"Small Group"}),(0,b.jsxs)(ay.Select,{value:B,onValueChange:a=>{C(a),E("all"),M("all"),O("all"),aS(x,z,a),aT(x,z,a)},disabled:!z||"all"===z,children:[(0,b.jsx)(ay.SelectTrigger,{children:(0,b.jsx)(ay.SelectValue,{placeholder:z&&"all"!==z?"Select small group":"Select university first"})}),(0,b.jsxs)(ay.SelectContent,{children:[(0,b.jsx)(ay.SelectItem,{value:"all",children:"All Small Groups"}),ac.map(a=>(0,b.jsx)(ay.SelectItem,{value:a.id.toString(),children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(az.Label,{htmlFor:"alumniGroup",children:"Alumni Group"}),(0,b.jsxs)(ay.Select,{value:D,onValueChange:a=>{E(a),M("all"),O("all"),aS(x,z,B,a),aT(x,z,B,a)},disabled:!x||"all"===x,children:[(0,b.jsx)(ay.SelectTrigger,{children:(0,b.jsx)(ay.SelectValue,{placeholder:x&&"all"!==x?"Select alumni group":"Select region first"})}),(0,b.jsxs)(ay.SelectContent,{children:[(0,b.jsx)(ay.SelectItem,{value:"all",children:"All Alumni Groups"}),ae.map(a=>(0,b.jsx)(ay.SelectItem,{value:a.id.toString(),children:a.name},a.id))]})]})]})]})})]}),(0,b.jsxs)(ax.Card,{children:[(0,b.jsx)(ax.CardHeader,{children:(0,b.jsxs)(ax.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Engagement Type & Time Range"]})}),(0,b.jsx)(ax.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(az.Label,{htmlFor:"engagementType",children:"Engagement Type"}),(0,b.jsxs)(ay.Select,{value:J,onValueChange:K,children:[(0,b.jsx)(ay.SelectTrigger,{children:(0,b.jsx)(ay.SelectValue,{placeholder:"Select engagement type"})}),(0,b.jsx)(ay.SelectContent,{children:aX.map(a=>(0,b.jsx)(ay.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),"event"===J&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(az.Label,{htmlFor:"selectedEvent",children:"Select Event"}),(0,b.jsxs)(ay.Select,{value:L,onValueChange:a=>{M(a)},disabled:au,children:[(0,b.jsx)(ay.SelectTrigger,{children:(0,b.jsx)(ay.SelectValue,{placeholder:au?"Loading events...":x&&"all"!==x?"Select event":"Select organizational structure first"})}),(0,b.jsxs)(ay.SelectContent,{children:[(0,b.jsx)(ay.SelectItem,{value:"all",children:"All Events"}),au?(0,b.jsx)(ay.SelectItem,{value:"loading",disabled:!0,children:"Loading events..."}):ag.length>0?ag.map(a=>(0,b.jsx)(ay.SelectItem,{value:a.id.toString(),children:a.name},a.id)):(0,b.jsx)(ay.SelectItem,{value:"no-events",disabled:!0,children:"No events found for selected organization"})]})]})]}),"designation"===J&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(az.Label,{htmlFor:"selectedDesignation",children:"Select Designation"}),(0,b.jsxs)(ay.Select,{value:N,onValueChange:a=>{O(a)},disabled:aL,children:[(0,b.jsx)(ay.SelectTrigger,{children:(0,b.jsx)(ay.SelectValue,{placeholder:aL?"Loading designations...":x&&"all"!==x?"Select designation":"Select organizational structure first"})}),(0,b.jsxs)(ay.SelectContent,{children:[(0,b.jsx)(ay.SelectItem,{value:"all",children:"All Designations"}),aL?(0,b.jsx)(ay.SelectItem,{value:"loading",disabled:!0,children:"Loading designations..."}):ai.length>0?ai.map(a=>(0,b.jsx)(ay.SelectItem,{value:a.id.toString(),children:a.name},a.id)):(0,b.jsx)(ay.SelectItem,{value:"no-designations",disabled:!0,children:"No designations found for selected organization"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(az.Label,{htmlFor:"dateRange",children:"Time Period"}),(0,b.jsxs)(ay.Select,{value:u,onValueChange:w,children:[(0,b.jsx)(ay.SelectTrigger,{children:(0,b.jsx)(ay.SelectValue,{placeholder:"Select period"})}),(0,b.jsx)(ay.SelectContent,{children:aW.map(a=>(0,b.jsx)(ay.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(az.Label,{htmlFor:"dateFrom",children:"From Date"}),(0,b.jsx)(aA.Input,{type:"date",value:F,onChange:a=>G(a.target.value)})]})]})})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Use filters to generate specific engagement reports for different audiences"}),(0,b.jsxs)(aB.Button,{onClick:()=>{w("6months"),y("all"),A("all"),C("all"),E("all"),G(""),I(""),K("event"),M("all"),O("all")},variant:"outline",className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset All Filters"]})]})]}),(0,b.jsxs)("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-6 ${!J?"lg:grid-cols-5":"lg:grid-cols-3"}`,children:[(0,b.jsx)(ax.Card,{children:(0,b.jsxs)(ax.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:aU.totalEngagement.toLocaleString()}),(0,b.jsxs)("p",{className:"text-sm text-blue-500 dark:text-blue-300",children:[aU.monthlyGrowth>0?"+":"",aU.monthlyGrowth,"% from last period"]})]}),(0,b.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-full",children:(0,b.jsx)(aH,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]}),(0,b.jsx)("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-200 mt-2",children:"Total Engagement"})]})}),(0,b.jsx)(ax.Card,{children:(0,b.jsxs)(ax.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[aU.averageEngagementRate,"%"]}),(0,b.jsx)("p",{className:"text-sm text-green-500 dark:text-green-300",children:"Average rate"})]}),(0,b.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-full",children:(0,b.jsx)(aI,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]}),(0,b.jsx)("p",{className:"text-sm font-medium text-green-700 dark:text-green-200 mt-2",children:"Engagement Rate"})]})}),(!J||"event"===J)&&(0,b.jsx)(ax.Card,{children:(0,b.jsxs)(ax.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:aU.eventParticipation}),(0,b.jsx)("p",{className:"text-sm text-purple-500 dark:text-purple-300",children:"Event participation"})]}),(0,b.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-full",children:(0,b.jsx)(aJ,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]}),(0,b.jsx)("p",{className:"text-sm font-medium text-purple-700 dark:text-purple-200 mt-2",children:"Event Participation"})]})}),(!J||"designation"===J)&&(0,b.jsx)(ax.Card,{children:(0,b.jsxs)(ax.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:aU.designationParticipation}),(0,b.jsx)("p",{className:"text-sm text-yellow-500 dark:text-yellow-300",children:"Designation participation"})]}),(0,b.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900 rounded-full",children:(0,b.jsx)(aK,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]}),(0,b.jsx)("p",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-200 mt-2",children:"Designation Participation"})]})}),(0,b.jsx)(ax.Card,{children:(0,b.jsxs)(ax.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:[aU.monthlyGrowth,"%"]}),(0,b.jsx)("p",{className:"text-sm text-indigo-500 dark:text-indigo-300",children:"Monthly growth"})]}),(0,b.jsx)("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900 rounded-full",children:(0,b.jsx)(aI,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})})]}),(0,b.jsx)("p",{className:"text-sm font-medium text-indigo-700 dark:text-indigo-200 mt-2",children:"Growth Rate"})]})})]}),(0,b.jsxs)("div",{className:`grid grid-cols-1 gap-6 ${!J?"lg:grid-cols-2":"lg:grid-cols-1"}`,children:[(0,b.jsxs)(ax.Card,{children:[(0,b.jsxs)(ax.CardHeader,{children:[(0,b.jsx)(ax.CardTitle,{children:"event"===J?"Event Attendance Trends":"designation"===J?"Designation Participation Trends":"Engagement Trends Over Time"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"event"===J?"Monthly event attendance patterns":"designation"===J?"Monthly designation participation patterns":"Monthly engagement patterns for events and designations"})]}),(0,b.jsx)(ax.CardContent,{children:(0,b.jsx)("div",{className:"h-80",children:(0,b.jsx)(m.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(r.AreaChart,{data:aV.engagementTrends,children:[(0,b.jsx)(k.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(i.XAxis,{dataKey:"month"}),(0,b.jsx)(j.YAxis,{}),(0,b.jsx)(l.Tooltip,{}),(!J||"event"===J)&&(0,b.jsx)(q.Area,{type:"monotone",dataKey:"eventAttendance",stackId:"1",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.6,name:"Event Attendance"}),(!J||"designation"===J)&&(0,b.jsx)(q.Area,{type:"monotone",dataKey:"designationParticipation",stackId:"2",stroke:"#10B981",fill:"#10B981",fillOpacity:.6,name:"Designation Participation"})]})})})})]}),!J&&(0,b.jsxs)(ax.Card,{children:[(0,b.jsxs)(ax.CardHeader,{children:[(0,b.jsx)(ax.CardTitle,{children:"Engagement Type Distribution"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Breakdown of engagement by type"})]}),(0,b.jsx)(ax.CardContent,{children:(0,b.jsx)("div",{className:"h-80",children:(0,b.jsx)(m.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(n.PieChart,{children:[(0,b.jsx)(o.Pie,{data:aV.engagementTypeDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:b})=>`${a} ${(100*(b||0)).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:aV.engagementTypeDistribution.map((a,c)=>(0,b.jsx)(p.Cell,{fill:a.color},`cell-${c}`))}),(0,b.jsx)(l.Tooltip,{})]})})})})]})]}),(0,b.jsxs)("div",{className:`grid grid-cols-1 gap-6 ${!J?"lg:grid-cols-2":"lg:grid-cols-1"}`,children:[(0,b.jsxs)(ax.Card,{children:[(0,b.jsxs)(ax.CardHeader,{children:[(0,b.jsx)(ax.CardTitle,{children:x&&"all"!==x?"event"===J?"University Event Attendance Comparison":"designation"===J?"University Designation Participation Comparison":"University Engagement Comparison":z&&"all"!==z?"event"===J?"Small Group Event Attendance Comparison":"designation"===J?"Small Group Designation Participation Comparison":"Small Group Engagement Comparison":"event"===J?"Regional Event Attendance":"designation"===J?"Regional Designation Participation":"Regional Engagement Analysis"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x&&"all"!==x?"event"===J?"Event attendance levels across universities in the selected region":"designation"===J?"Designation participation levels across universities in the selected region":"Engagement levels across universities in the selected region":z&&"all"!==z?"event"===J?"Event attendance levels across small groups in the selected university":"designation"===J?"Designation participation levels across small groups in the selected university":"Engagement levels across small groups in the selected university":"event"===J?"Event attendance levels across different regions":"designation"===J?"Designation participation levels across different regions":"Engagement levels across different regions"})]}),(0,b.jsx)(ax.CardContent,{children:(0,b.jsx)("div",{className:"h-80",children:(0,b.jsx)(m.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(g.BarChart,{data:aV.regionalEngagement,children:[(0,b.jsx)(k.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(i.XAxis,{dataKey:"region",tick:{fontSize:12},angle:x&&"all"!==x||z&&"all"!==z?-45:0,textAnchor:x&&"all"!==x||z&&"all"!==z?"end":"middle",height:x&&"all"!==x||z&&"all"!==z?80:60}),(0,b.jsx)(j.YAxis,{}),(0,b.jsx)(l.Tooltip,{}),(!J||"event"===J)&&(0,b.jsx)(h.Bar,{dataKey:"eventEngagement",fill:"#3B82F6",name:"Event Engagement"}),(!J||"designation"===J)&&(0,b.jsx)(h.Bar,{dataKey:"designationEngagement",fill:"#10B981",name:"Designation Engagement"}),!J&&(0,b.jsx)(h.Bar,{dataKey:"totalEngagement",fill:"#8B5CF6",name:"Total Engagement"})]})})})})]}),!J&&(0,b.jsxs)(ax.Card,{children:[(0,b.jsxs)(ax.CardHeader,{children:[(0,b.jsx)(ax.CardTitle,{children:"Engagement Rate Trends"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly engagement rate progression"})]}),(0,b.jsx)(ax.CardContent,{children:(0,b.jsx)("div",{className:"h-80",children:(0,b.jsx)(m.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(v,{data:aV.engagementTrends,children:[(0,b.jsx)(k.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(i.XAxis,{dataKey:"month"}),(0,b.jsx)(j.YAxis,{}),(0,b.jsx)(l.Tooltip,{}),(0,b.jsx)(aw,{type:"monotone",dataKey:"engagementRate",stroke:"#F59E0B",strokeWidth:3,name:"Engagement Rate %"})]})})})})]})]}),(0,b.jsxs)("div",{className:`grid grid-cols-1 gap-6 ${!J?"lg:grid-cols-2":"lg:grid-cols-1"}`,children:[(0,b.jsxs)(ax.Card,{children:[(0,b.jsxs)(ax.CardHeader,{children:[(0,b.jsx)(ax.CardTitle,{children:"event"===J?"Event Engagement Levels":"designation"===J?"Designation Engagement Levels":"Engagement Levels"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"event"===J?"Distribution of event engagement intensity levels":"designation"===J?"Distribution of designation engagement intensity levels":"Distribution of engagement intensity levels"})]}),(0,b.jsx)(ax.CardContent,{children:(0,b.jsx)("div",{className:"h-80",children:(0,b.jsx)(m.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(n.PieChart,{children:[(0,b.jsx)(o.Pie,{data:aV.eventEngagementLevels,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:b})=>`${a} ${(100*(b||0)).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:aV.eventEngagementLevels.map((a,c)=>(0,b.jsx)(p.Cell,{fill:a.color},`cell-${c}`))}),(0,b.jsx)(l.Tooltip,{})]})})})})]}),!J&&(0,b.jsxs)(ax.Card,{children:[(0,b.jsxs)(ax.CardHeader,{children:[(0,b.jsx)(ax.CardTitle,{children:x&&"all"!==x?"University Engagement Rates":z&&"all"!==z?"Small Group Engagement Rates":"Regional Engagement Rates"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x&&"all"!==x?"Engagement rates by university in the selected region":z&&"all"!==z?"Engagement rates by small group in the selected university":"Engagement rates by region"})]}),(0,b.jsx)(ax.CardContent,{children:(0,b.jsx)("div",{className:"h-80",children:(0,b.jsx)(m.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(g.BarChart,{data:aV.regionalEngagement,children:[(0,b.jsx)(k.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(i.XAxis,{dataKey:"region",tick:{fontSize:12},angle:x&&"all"!==x||z&&"all"!==z?-45:0,textAnchor:x&&"all"!==x||z&&"all"!==z?"end":"middle",height:x&&"all"!==x||z&&"all"!==z?80:60}),(0,b.jsx)(j.YAxis,{}),(0,b.jsx)(l.Tooltip,{}),(0,b.jsx)(h.Bar,{dataKey:"engagementRate",fill:"#EC4899",name:"Engagement Rate %"})]})})})})]})]})]})})]})]})}}];

//# sourceMappingURL=app_links_reports_engagement_page_tsx_2d6c53b6._.js.map