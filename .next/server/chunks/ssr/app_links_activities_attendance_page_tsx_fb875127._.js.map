{"version":3,"sources":["turbopack:///[project]/components/super-admin-scope-selector.tsx","turbopack:///[project]/app/links/activities/attendance/page.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/circle-x.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { MapPin, Building2, Users, GraduationCap } from \"lucide-react\"\r\n\r\ninterface Region {\r\n  id: number;\r\n  name: string;\r\n}\r\n\r\ninterface University {\r\n  id: number;\r\n  name: string;\r\n  regionId: number;\r\n}\r\n\r\ninterface SmallGroup {\r\n  id: number;\r\n  name: string;\r\n  universityId: number;\r\n  regionId: number;\r\n}\r\n\r\ninterface AlumniGroup {\r\n  id: number;\r\n  name: string;\r\n  regionId: number;\r\n}\r\n\r\ninterface SuperAdminScopeSelectorProps {\r\n  onScopeChange: (scope: {\r\n    regionId?: string;\r\n    universityId?: string;\r\n    smallGroupId?: string;\r\n    alumniGroupId?: string;\r\n  }) => void\r\n}\r\n\r\nexport function SuperAdminScopeSelector({ onScopeChange }: SuperAdminScopeSelectorProps) {\r\n  const [regions, setRegions] = React.useState<Region[]>([])\r\n  const [universities, setUniversities] = React.useState<University[]>([])\r\n  const [smallGroups, setSmallGroups] = React.useState<SmallGroup[]>([])\r\n  const [alumniGroups, setAlumniGroups] = React.useState<AlumniGroup[]>([])\r\n  const [selectedRegion, setSelectedRegion] = React.useState(\"\")\r\n  const [selectedUniversity, setSelectedUniversity] = React.useState(\"\")\r\n  const [selectedSmallGroup, setSelectedSmallGroup] = React.useState(\"\")\r\n  const [selectedAlumniGroup, setSelectedAlumniGroup] = React.useState(\"\")\r\n\r\n  // Fetch regions on component mount\r\n  React.useEffect(() => {\r\n    fetchRegions()\r\n  }, [])\r\n\r\n  // Fetch universities when region changes\r\n  React.useEffect(() => {\r\n    if (selectedRegion) {\r\n      fetchUniversities(Number(selectedRegion))\r\n      fetchAlumniGroups(Number(selectedRegion))\r\n    } else {\r\n      setUniversities([])\r\n      setAlumniGroups([])\r\n      setSelectedUniversity(\"\")\r\n      setSelectedAlumniGroup(\"\")\r\n    }\r\n  }, [selectedRegion])\r\n\r\n  // Fetch small groups when university changes\r\n  React.useEffect(() => {\r\n    if (selectedUniversity) {\r\n      fetchSmallGroups(Number(selectedUniversity))\r\n    } else {\r\n      setSmallGroups([])\r\n      setSelectedSmallGroup(\"\")\r\n    }\r\n  }, [selectedUniversity])\r\n\r\n  // Notify parent of scope changes\r\n  React.useEffect(() => {\r\n    onScopeChange({\r\n      regionId: selectedRegion,\r\n      universityId: selectedUniversity,\r\n      smallGroupId: selectedSmallGroup,\r\n      alumniGroupId: selectedAlumniGroup\r\n    })\r\n  }, [selectedRegion, selectedUniversity, selectedSmallGroup, selectedAlumniGroup, onScopeChange])\r\n\r\n  const fetchRegions = async () => {\r\n    try {\r\n      const response = await fetch('/api/regions')\r\n      const data = await response.json()\r\n      setRegions(data)\r\n    } catch (error) {\r\n      console.error('Error fetching regions:', error)\r\n    }\r\n  }\r\n\r\n  const fetchUniversities = async (regionId: number) => {\r\n    try {\r\n      const response = await fetch(`/api/universities?regionId=${regionId}`)\r\n      const data = await response.json()\r\n      setUniversities(data)\r\n    } catch (error) {\r\n      console.error('Error fetching universities:', error)\r\n    }\r\n  }\r\n\r\n  const fetchSmallGroups = async (universityId: number) => {\r\n    try {\r\n      const response = await fetch(`/api/small-groups?universityId=${universityId}`)\r\n      const data = await response.json()\r\n      setSmallGroups(data)\r\n    } catch (error) {\r\n      console.error('Error fetching small groups:', error)\r\n    }\r\n  }\r\n\r\n  const fetchAlumniGroups = async (regionId: number) => {\r\n    try {\r\n      const response = await fetch(`/api/alumni-small-groups?regionId=${regionId}`)\r\n      const data = await response.json()\r\n      setAlumniGroups(data)\r\n    } catch (error) {\r\n      console.error('Error fetching alumni groups:', error)\r\n    }\r\n  }\r\n\r\n  const handleRegionChange = (value: string) => {\r\n    setSelectedRegion(value)\r\n    setSelectedUniversity(\"\")\r\n    setSelectedSmallGroup(\"\")\r\n    setSelectedAlumniGroup(\"\")\r\n  }\r\n\r\n  const handleUniversityChange = (value: string) => {\r\n    setSelectedUniversity(value)\r\n    setSelectedSmallGroup(\"\")\r\n  }\r\n\r\n  const handleSmallGroupChange = (value: string) => {\r\n    setSelectedSmallGroup(value)\r\n  }\r\n\r\n  const handleAlumniGroupChange = (value: string) => {\r\n    setSelectedAlumniGroup(value)\r\n  }\r\n\r\n  return (\r\n    <Card className=\"mb-6\">\r\n      <CardHeader className=\"pb-4\">\r\n        <CardTitle className=\"text-lg font-semibold text-foreground\">Super Admin Scope Selection</CardTitle>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"region\" className=\"text-sm font-medium flex items-center gap-2\">\r\n              <MapPin className=\"h-4 w-4\" />\r\n              Filter by Region\r\n            </Label>\r\n            <Select value={selectedRegion} onValueChange={handleRegionChange}>\r\n              <SelectTrigger className=\"h-11\">\r\n                <SelectValue placeholder=\"Select region\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {regions.map((region) => (\r\n                  <SelectItem key={region.id} value={region.id.toString()}>\r\n                    {region.name}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"university\" className=\"text-sm font-medium flex items-center gap-2\">\r\n              <Building2 className=\"h-4 w-4\" />\r\n              Filter by University\r\n            </Label>\r\n            <Select \r\n              value={selectedUniversity} \r\n              onValueChange={handleUniversityChange}\r\n              disabled={!selectedRegion}\r\n            >\r\n              <SelectTrigger className=\"h-11\">\r\n                <SelectValue placeholder={selectedRegion ? \"Select university\" : \"Select region first\"} />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {universities.map((university) => (\r\n                  <SelectItem key={university.id} value={university.id.toString()}>\r\n                    {university.name}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"smallGroup\" className=\"text-sm font-medium flex items-center gap-2\">\r\n              <Users className=\"h-4 w-4\" />\r\n              Filter by Small Group\r\n            </Label>\r\n            <Select \r\n              value={selectedSmallGroup} \r\n              onValueChange={handleSmallGroupChange}\r\n              disabled={!selectedUniversity}\r\n            >\r\n              <SelectTrigger className=\"h-11\">\r\n                <SelectValue placeholder={selectedUniversity ? \"Select small group\" : \"Select university first\"} />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {smallGroups.map((smallGroup) => (\r\n                  <SelectItem key={smallGroup.id} value={smallGroup.id.toString()}>\r\n                    {smallGroup.name}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"alumniGroup\" className=\"text-sm font-medium flex items-center gap-2\">\r\n              <GraduationCap className=\"h-4 w-4\" />\r\n              Filter by Alumni Group\r\n            </Label>\r\n            <Select \r\n              value={selectedAlumniGroup} \r\n              onValueChange={handleAlumniGroupChange}\r\n              disabled={!selectedRegion}\r\n            >\r\n              <SelectTrigger className=\"h-11\">\r\n                <SelectValue placeholder={selectedRegion ? \"Select alumni group\" : \"Select region first\"} />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {alumniGroups.map((alumniGroup) => (\r\n                  <SelectItem key={alumniGroup.id} value={alumniGroup.id.toString()}>\r\n                    {alumniGroup.name}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport axios from 'axios';\r\nimport { Search, RefreshCw, Plus, Calendar, Users, CheckCircle, XCircle, Download, AlertCircle } from 'lucide-react';\r\nimport jsPDF from 'jspdf';\r\nimport { AppSidebar } from \"@/components/app-sidebar\";\r\nimport { SuperAdminScopeSelector } from \"@/components/super-admin-scope-selector\";\r\nimport { useUserScope } from \"@/hooks/use-user-scope\";\r\nimport {\r\n  Breadcrumb,\r\n  BreadcrumbItem,\r\n  BreadcrumbLink,\r\n  BreadcrumbList,\r\n  BreadcrumbPage,\r\n  BreadcrumbSeparator,\r\n} from \"@/components/ui/breadcrumb\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport {\r\n  SidebarInset,\r\n  SidebarProvider,\r\n  SidebarTrigger,\r\n} from \"@/components/ui/sidebar\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\n\r\ninterface AttendanceRecord {\r\n  id: number;\r\n  member: { \r\n    id: number; \r\n    firstname: string; \r\n    secondname: string;\r\n    regionId?: number;\r\n    universityId?: number;\r\n    smallGroupId?: number;\r\n    alumniGroupId?: number;\r\n  } | null;\r\n  permanentministryevent: { id: number; name: string } | null;\r\n  trainings: { id: number; name: string } | null;\r\n  status: string;\r\n  recordedAt: string;\r\n  notes?: string;\r\n}\r\n\r\ninterface Event {\r\n  id: number;\r\n  name: string;\r\n  type: string;\r\n}\r\n\r\ninterface Member {\r\n  id: number;\r\n  firstname: string;\r\n  secondname: string;\r\n}\r\n\r\nexport default function AttendancePage() {\r\n  const [activeTab, setActiveTab] = useState<'mark' | 'view'>('mark');\r\n  \r\n  // User scope hook\r\n  const { userScope, loading: scopeLoading, getDefaultValues } = useUserScope();\r\n  \r\n  // Scope selection state (for super admin only)\r\n  const [regionId, setRegionId] = useState(\"\");\r\n  const [universityId, setUniversityId] = useState(\"\");\r\n  const [smallGroupId, setSmallGroupId] = useState(\"\");\r\n  const [alumniGroupId, setAlumniGroupId] = useState(\"\");\r\n\r\n  // Mark Attendance state\r\n  const [selectedEvent, setSelectedEvent] = useState(\"\");\r\n  const [events, setEvents] = useState<Event[]>([]);\r\n  const [members, setMembers] = useState<Member[]>([]);\r\n  const [attendance, setAttendance] = useState<{ [memberId: string]: string }>({});\r\n  const [isLoadingMembers, setIsLoadingMembers] = useState(false);\r\n  const [_memberError, setMemberError] = useState<string | null>(null);\r\n  const [submitMessage, setSubmitMessage] = useState<string | null>(null);\r\n  const [submitError, setSubmitError] = useState<string | null>(null);\r\n\r\n  // View Records state\r\n  const [attendanceRecords, setAttendanceRecords] = useState<AttendanceRecord[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [eventFilter, setEventFilter] = useState(\"\");\r\n  const [statusFilter, setStatusFilter] = useState(\"\");\r\n  const [dateFrom, setDateFrom] = useState(\"\");\r\n  const [dateTo, setDateTo] = useState(\"\");\r\n  const [editingId, setEditingId] = useState<number | null>(null);\r\n  const [editStatus, setEditStatus] = useState<string>(\"\");\r\n  const [editMessage, setEditMessage] = useState<string | null>(null);\r\n  const [editError, setEditError] = useState<string | null>(null);\r\n\r\n  // Export state\r\n  const [isExporting, setIsExporting] = useState(false);\r\n  const [showExportOptions, setShowExportOptions] = useState(false);\r\n\r\n  // Filter dropdowns state (for view records only)\r\n  const [regions, setRegions] = useState<{id: number, name: string}[]>([]);\r\n  const [universities, setUniversities] = useState<{id: number, name: string, regionId: number}[]>([]);\r\n  const [smallGroups, setSmallGroups] = useState<{id: number, name: string, universityId: number, regionId: number}[]>([]);\r\n  const [alumniGroups, setAlumniGroups] = useState<{id: number, name: string, regionId: number}[]>([]);\r\n  const [selectedRegionFilter, setSelectedRegionFilter] = useState(\"\");\r\n  const [selectedUniversityFilter, setSelectedUniversityFilter] = useState(\"\");\r\n  const [selectedSmallGroupFilter, setSelectedSmallGroupFilter] = useState(\"\");\r\n  const [selectedAlumniGroupFilter, setSelectedAlumniGroupFilter] = useState(\"\");\r\n\r\n  const attendanceStatuses = [\r\n    { value: \"present\", label: \"Present\" },\r\n    { value: \"absent\", label: \"Absent\" },\r\n    { value: \"excused\", label: \"Excused\" },\r\n  ];\r\n\r\n  // Set default scope values when user scope is loaded\r\n  useEffect(() => {\r\n    if (userScope && !scopeLoading) {\r\n      const defaults = getDefaultValues();\r\n      setRegionId(defaults.regionId || \"\");\r\n      setUniversityId(defaults.universityId || \"\");\r\n      setSmallGroupId(defaults.smallGroupId || \"\");\r\n      setAlumniGroupId(defaults.alumniGroupId || \"\");\r\n    }\r\n  }, [userScope, scopeLoading, getDefaultValues]);\r\n\r\n  // Fetch events based on user scope\r\n  useEffect(() => {\r\n    if (!scopeLoading) {\r\n      fetchEvents();\r\n    }\r\n  }, [scopeLoading, regionId, universityId, smallGroupId, alumniGroupId, fetchEvents]);\r\n\r\n  // Fetch regions for filter dropdowns\r\n  useEffect(() => {\r\n    fetchRegions();\r\n  }, []);\r\n\r\n  // Fetch universities when region filter changes\r\n  useEffect(() => {\r\n    if (selectedRegionFilter) {\r\n      fetchUniversities(Number(selectedRegionFilter));\r\n      fetchAlumniGroups(Number(selectedRegionFilter));\r\n    } else {\r\n      setUniversities([]);\r\n      setAlumniGroups([]);\r\n      setSelectedUniversityFilter(\"\");\r\n      setSelectedAlumniGroupFilter(\"\");\r\n    }\r\n  }, [selectedRegionFilter]);\r\n\r\n  // Fetch small groups when university filter changes\r\n  useEffect(() => {\r\n    if (selectedUniversityFilter) {\r\n      fetchSmallGroups(Number(selectedUniversityFilter));\r\n    } else {\r\n      setSmallGroups([]);\r\n      setSelectedSmallGroupFilter(\"\");\r\n    }\r\n  }, [selectedUniversityFilter]);\r\n\r\n  // Fetch members when event or scope changes\r\n  useEffect(() => {\r\n    if (selectedEvent) {\r\n      fetchMembers();\r\n    } else {\r\n      setMembers([]);\r\n      setAttendance({});\r\n    }\r\n  }, [selectedEvent, regionId, universityId, smallGroupId, alumniGroupId, fetchMembers]);\r\n\r\n  // Fetch attendance records when filters change\r\n  useEffect(() => {\r\n    if (activeTab === 'view') {\r\n      fetchAttendanceRecords();\r\n    }\r\n  }, [activeTab, eventFilter, statusFilter, dateFrom, dateTo, regionId, universityId, smallGroupId, alumniGroupId, selectedRegionFilter, selectedUniversityFilter, selectedSmallGroupFilter, selectedAlumniGroupFilter, fetchAttendanceRecords]);\r\n\r\n  const fetchEvents = async () => {\r\n    try {\r\n      let url = '/api/events';\r\n      const params = new URLSearchParams();\r\n      \r\n      // Add scope-based filters for events\r\n      if (regionId) params.append(\"regionId\", regionId);\r\n      if (universityId) params.append(\"universityId\", universityId);\r\n      if (smallGroupId) params.append(\"smallGroupId\", smallGroupId);\r\n      if (alumniGroupId) params.append(\"alumniGroupId\", alumniGroupId);\r\n      \r\n      if (params.toString()) {\r\n        url += \"?\" + params.toString();\r\n      }\r\n      \r\n      const response = await axios.get(url);\r\n      setEvents(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching events:', error);\r\n    }\r\n  };\r\n\r\n  const fetchRegions = async () => {\r\n    try {\r\n      const response = await axios.get('/api/regions');\r\n      setRegions(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching regions:', error);\r\n    }\r\n  };\r\n\r\n  const fetchUniversities = async (regionId: number) => {\r\n    try {\r\n      const response = await axios.get(`/api/universities?regionId=${regionId}`);\r\n      setUniversities(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching universities:', error);\r\n    }\r\n  };\r\n\r\n  const fetchSmallGroups = async (universityId: number) => {\r\n    try {\r\n      const response = await axios.get(`/api/small-groups?universityId=${universityId}`);\r\n      setSmallGroups(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching small groups:', error);\r\n    }\r\n  };\r\n\r\n  const fetchAlumniGroups = async (regionId: number) => {\r\n    try {\r\n      const response = await axios.get(`/api/alumni-small-groups?regionId=${regionId}`);\r\n      setAlumniGroups(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching alumni groups:', error);\r\n    }\r\n  };\r\n\r\n  const fetchMembers = async () => {\r\n    setIsLoadingMembers(true);\r\n    setMembers([]);\r\n    setAttendance({});\r\n    setMemberError(null);\r\n    \r\n    try {\r\n      let url = \"/api/members\";\r\n      const params = new URLSearchParams();\r\n      \r\n      // Add scope-based filters for members\r\n      if (smallGroupId) {\r\n        params.append(\"smallGroupId\", smallGroupId);\r\n      } else if (alumniGroupId) {\r\n        params.append(\"alumniGroupId\", alumniGroupId);\r\n      } else if (universityId) {\r\n        params.append(\"universityId\", universityId);\r\n      } else if (regionId) {\r\n        params.append(\"regionId\", regionId);\r\n      }\r\n      \r\n      if (params.toString()) {\r\n        url += \"?\" + params.toString();\r\n      }\r\n      \r\n      const response = await axios.get(url);\r\n      const membersData = response.data.members || response.data;\r\n      \r\n      if (Array.isArray(membersData)) {\r\n        setMembers(membersData);\r\n        // Default all to present\r\n        const initialAttendance: { [memberId: string]: string } = {};\r\n        membersData.forEach((m: Member) => {\r\n          initialAttendance[m.id] = \"present\";\r\n        });\r\n        setAttendance(initialAttendance);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching members:', error);\r\n      setMemberError(\"Failed to load members\");\r\n    } finally {\r\n      setIsLoadingMembers(false);\r\n    }\r\n  };\r\n\r\n  const fetchAttendanceRecords = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const params = new URLSearchParams();\r\n      if (eventFilter) params.append(\"eventId\", eventFilter);\r\n      if (statusFilter) params.append(\"status\", statusFilter);\r\n      if (dateFrom) params.append(\"dateFrom\", dateFrom);\r\n      if (dateTo) params.append(\"dateTo\", dateTo);\r\n      \r\n      // Add filter dropdown parameters\r\n      if (selectedRegionFilter) params.append(\"regionId\", selectedRegionFilter);\r\n      if (selectedUniversityFilter) params.append(\"universityId\", selectedUniversityFilter);\r\n      if (selectedSmallGroupFilter) params.append(\"smallGroupId\", selectedSmallGroupFilter);\r\n      if (selectedAlumniGroupFilter) params.append(\"alumniGroupId\", selectedAlumniGroupFilter);\r\n      \r\n      // Add scope-based filters for attendance records\r\n      if (regionId) params.append(\"regionId\", regionId);\r\n      if (universityId) params.append(\"universityId\", universityId);\r\n      if (smallGroupId) params.append(\"smallGroupId\", smallGroupId);\r\n      if (alumniGroupId) params.append(\"alumniGroupId\", alumniGroupId);\r\n      \r\n      const response = await axios.get(`/api/attendance?${params.toString()}`);\r\n      setAttendanceRecords(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching attendance records:', err);\r\n      setError('Failed to fetch attendance records. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleScopeChange = (scope: {\r\n    regionId?: string;\r\n    universityId?: string;\r\n    smallGroupId?: string;\r\n    alumniGroupId?: string;\r\n  }) => {\r\n    setRegionId(scope.regionId || \"\");\r\n    setUniversityId(scope.universityId || \"\");\r\n    setSmallGroupId(scope.smallGroupId || \"\");\r\n    setAlumniGroupId(scope.alumniGroupId || \"\");\r\n  };\r\n\r\n  const handleRegionFilterChange = (value: string) => {\r\n    setSelectedRegionFilter(value);\r\n    setSelectedUniversityFilter(\"\");\r\n    setSelectedSmallGroupFilter(\"\");\r\n    setSelectedAlumniGroupFilter(\"\");\r\n  };\r\n\r\n  const handleUniversityFilterChange = (value: string) => {\r\n    setSelectedUniversityFilter(value);\r\n    setSelectedSmallGroupFilter(\"\");\r\n  };\r\n\r\n  const handleSmallGroupFilterChange = (value: string) => {\r\n    setSelectedSmallGroupFilter(value);\r\n  };\r\n\r\n  const handleAlumniGroupFilterChange = (value: string) => {\r\n    setSelectedAlumniGroupFilter(value);\r\n  };\r\n\r\n  const handleAttendanceChange = (memberId: string, status: string) => {\r\n    setAttendance(prev => ({ ...prev, [memberId]: status }));\r\n  };\r\n\r\n  const handleAttendanceSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setSubmitMessage(null);\r\n    setSubmitError(null);\r\n    \r\n    if (!selectedEvent) {\r\n      setSubmitError(\"Please select an event to mark attendance for.\");\r\n      return;\r\n    }\r\n    \r\n    if (members.length === 0) {\r\n      setSubmitError(\"No members found for the selected criteria.\");\r\n      return;\r\n    }\r\n    \r\n    const attendanceRecords = members.map(m => ({\r\n      memberId: m.id,\r\n      status: attendance[m.id] || \"present\",\r\n      permanentEventId: parseInt(selectedEvent)\r\n    }));\r\n    \r\n    try {\r\n      const response = await axios.post(\"/api/attendance\", attendanceRecords);\r\n      \r\n      if (response.status === 201 && response.data.results?.every((r: Record<string, unknown>) => r.success)) {\r\n        const eventName = events.find(e => e.id.toString() === selectedEvent)?.name || \"the selected event\";\r\n        const memberCount = members.length;\r\n        setSubmitMessage(`Attendance for ${memberCount} member(s) at \"${eventName}\" has been saved successfully!`);\r\n        setSubmitError(null);\r\n        setAttendance({});\r\n        setMembers([]);\r\n        setSelectedEvent(\"\");\r\n      } else {\r\n        const errorMessages = response.data.results\r\n          ?.filter((r: Record<string, unknown>) => !r.success)\r\n          ?.map((r: Record<string, unknown>) => {\r\n            if (typeof r.error === 'object') {\r\n              return Object.values(r.error).flat().join(\", \");\r\n            }\r\n            return r.error;\r\n          })\r\n          ?.join(\", \") || \"Some attendance records could not be saved.\";\r\n        setSubmitError(errorMessages);\r\n      }\r\n    } catch (err: unknown) {\r\n      setSubmitError(\"Failed to save attendance. \" + (err.message || \"\"));\r\n    }\r\n  };\r\n\r\n  const handleEdit = (record: AttendanceRecord) => {\r\n    setEditingId(record.id);\r\n    setEditStatus(record.status);\r\n    setEditMessage(null);\r\n    setEditError(null);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setEditingId(null);\r\n    setEditStatus(\"\");\r\n    setEditMessage(null);\r\n    setEditError(null);\r\n  };\r\n\r\n  const handleSave = async (record: AttendanceRecord) => {\r\n    setEditMessage(null);\r\n    setEditError(null);\r\n    try {\r\n      const response = await axios.put(`/api/attendance?id=${record.id}`, {\r\n        status: editStatus\r\n      });\r\n      \r\n      if (response.status === 200) {\r\n        setEditMessage(\"Attendance updated successfully!\");\r\n        setEditingId(null);\r\n        setEditStatus(\"\");\r\n        fetchAttendanceRecords();\r\n      } else {\r\n        setEditError(response.data.error || \"Failed to update attendance.\");\r\n      }\r\n    } catch (err: unknown) {\r\n      setEditError(\"Failed to update attendance. \" + (err.message || \"\"));\r\n    }\r\n  };\r\n\r\n  const filteredAttendance = useMemo(() => {\r\n    if (!searchQuery) return attendanceRecords;\r\n    const searchTerm = searchQuery.toLowerCase();\r\n    return attendanceRecords.filter(record =>\r\n      (record.member?.firstname?.toLowerCase().includes(searchTerm) ?? false) ||\r\n      (record.member?.secondname?.toLowerCase().includes(searchTerm) ?? false) ||\r\n      (record.permanentministryevent?.name?.toLowerCase().includes(searchTerm) ?? false) ||\r\n      (record.trainings?.name?.toLowerCase().includes(searchTerm) ?? false)\r\n    );\r\n  }, [attendanceRecords, searchQuery]);\r\n\r\n  const attendanceStats = useMemo(() => {\r\n    if (!filteredAttendance.length) return { total: 0, present: 0, absent: 0, excused: 0 };\r\n    \r\n    const stats = filteredAttendance.reduce((acc, record) => {\r\n      acc.total++;\r\n      if (record.status === 'present') acc.present++;\r\n      else if (record.status === 'absent') acc.absent++;\r\n      else if (record.status === 'excused') acc.excused++;\r\n      return acc;\r\n    }, { total: 0, present: 0, absent: 0, excused: 0 });\r\n    \r\n    return stats;\r\n  }, [filteredAttendance]);\r\n\r\n  const formatDate = (dateString: string | undefined) => {\r\n    if (!dateString) return \"N/A\";\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  // Export functions\r\n  const fetchAttendanceExportDetails = async (exportStatus: string = 'all') => {\r\n    try {\r\n      const params = new URLSearchParams();\r\n      \r\n      // Add current filters\r\n      if (eventFilter) params.append(\"eventId\", eventFilter);\r\n      if (dateFrom) params.append(\"dateFrom\", dateFrom);\r\n      if (dateTo) params.append(\"dateTo\", dateTo);\r\n      \r\n      // Add scope-based filters\r\n      if (regionId) params.append(\"regionId\", regionId);\r\n      if (universityId) params.append(\"universityId\", universityId);\r\n      if (smallGroupId) params.append(\"smallGroupId\", smallGroupId);\r\n      if (alumniGroupId) params.append(\"alumniGroupId\", alumniGroupId);\r\n      \r\n      // Add filter dropdown parameters\r\n      if (selectedRegionFilter) params.append(\"regionId\", selectedRegionFilter);\r\n      if (selectedUniversityFilter) params.append(\"universityId\", selectedUniversityFilter);\r\n      if (selectedSmallGroupFilter) params.append(\"smallGroupId\", selectedSmallGroupFilter);\r\n      if (selectedAlumniGroupFilter) params.append(\"alumniGroupId\", selectedAlumniGroupFilter);\r\n      \r\n      // Add export status filter\r\n      if (exportStatus !== 'all') {\r\n        params.append(\"status\", exportStatus);\r\n      }\r\n      \r\n      const response = await axios.get(`/api/attendance/export-details?${params.toString()}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching attendance export details:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const exportToPDF = async (exportStatus: string = 'all') => {\r\n    setIsExporting(true);\r\n    try {\r\n      const exportData = await fetchAttendanceExportDetails(exportStatus);\r\n      const { attendanceDetails, totalCount, appliedFilters } = exportData;\r\n\r\n      const pdf = new jsPDF('p', 'mm', 'a4');\r\n      const pageWidth = pdf.internal.pageSize.getWidth();\r\n      const pageHeight = pdf.internal.pageSize.getHeight();\r\n      \r\n      // Add header\r\n      pdf.setFontSize(20);\r\n      pdf.setFont('helvetica', 'bold');\r\n      pdf.text('Ministry Management System', pageWidth / 2, 20, { align: 'center' });\r\n      \r\n      pdf.setFontSize(16);\r\n      pdf.setFont('helvetica', 'normal');\r\n      pdf.text('Attendance Records Report', pageWidth / 2, 30, { align: 'center' });\r\n      \r\n      // Add report metadata\r\n      pdf.setFontSize(10);\r\n      pdf.text(`Generated on: ${new Date().toLocaleDateString()}`, 20, 45);\r\n      pdf.text(`Total Records: ${totalCount}`, 20, 50);\r\n      \r\n      if (exportStatus !== 'all') {\r\n        pdf.text(`Status Filter: ${exportStatus.charAt(0).toUpperCase() + exportStatus.slice(1)}`, 20, 55);\r\n      }\r\n      \r\n      if (appliedFilters.dateFrom || appliedFilters.dateTo) {\r\n        const dateRange = `${appliedFilters.dateFrom || 'Start'} to ${appliedFilters.dateTo || 'End'}`;\r\n        pdf.text(`Date Range: ${dateRange}`, 20, exportStatus !== 'all' ? 60 : 55);\r\n      }\r\n\r\n      // Add summary statistics\r\n      if (attendanceDetails.length > 0) {\r\n        const stats = attendanceDetails.reduce((acc: Record<string, number>, record: Record<string, unknown>) => {\r\n          acc.total++;\r\n          if (record.attendanceStatus === 'present') acc.present++;\r\n          else if (record.attendanceStatus === 'absent') acc.absent++;\r\n          else if (record.attendanceStatus === 'excused') acc.excused++;\r\n          return acc;\r\n        }, { total: 0, present: 0, absent: 0, excused: 0 });\r\n\r\n        const yPos = appliedFilters.dateFrom || appliedFilters.dateTo ? 70 : 65;\r\n        pdf.setFontSize(12);\r\n        pdf.setFont('helvetica', 'bold');\r\n        pdf.text('Summary Statistics', 20, yPos);\r\n        \r\n        pdf.setFontSize(10);\r\n        pdf.setFont('helvetica', 'normal');\r\n        pdf.text(`Total Records: ${stats.total}`, 20, yPos + 8);\r\n        pdf.text(`Present: ${stats.present}`, 20, yPos + 13);\r\n        pdf.text(`Absent: ${stats.absent}`, 20, yPos + 18);\r\n        pdf.text(`Excused: ${stats.excused}`, 20, yPos + 23);\r\n        \r\n        if (stats.total > 0) {\r\n          const attendanceRate = Math.round((stats.present / stats.total) * 100);\r\n          pdf.text(`Attendance Rate: ${attendanceRate}%`, 20, yPos + 28);\r\n        }\r\n      }\r\n\r\n      // Add attendance records table\r\n      if (attendanceDetails.length > 0) {\r\n        const tableStartY = appliedFilters.dateFrom || appliedFilters.dateTo ? 110 : 100;\r\n        let currentY = tableStartY;\r\n        \r\n        // Table headers\r\n        pdf.setFontSize(10);\r\n        pdf.setFont('helvetica', 'bold');\r\n        pdf.text('Member Name', 20, currentY);\r\n        pdf.text('Event', 60, currentY);\r\n        pdf.text('Status', 100, currentY);\r\n        pdf.text('Date', 130, currentY);\r\n        pdf.text('Region', 160, currentY);\r\n        \r\n        // Draw header line\r\n        pdf.line(20, currentY + 2, 190, currentY + 2);\r\n        currentY += 8;\r\n        \r\n        // Table data\r\n        pdf.setFont('helvetica', 'normal');\r\n        pdf.setFontSize(8);\r\n        \r\n        attendanceDetails.forEach((record: Record<string, unknown>, _index: number) => {\r\n          // Check if we need a new page\r\n          if (currentY > pageHeight - 20) {\r\n            pdf.addPage();\r\n            currentY = 20;\r\n          }\r\n          \r\n          const memberName = record.memberName.length > 25 ? record.memberName.substring(0, 22) + '...' : record.memberName;\r\n          const eventName = record.eventName.length > 20 ? record.eventName.substring(0, 17) + '...' : record.eventName;\r\n          const regionName = record.region.length > 15 ? record.region.substring(0, 12) + '...' : record.region;\r\n          \r\n          pdf.text(memberName, 20, currentY);\r\n          pdf.text(eventName, 60, currentY);\r\n          pdf.text(record.attendanceStatus.charAt(0).toUpperCase() + record.attendanceStatus.slice(1), 100, currentY);\r\n          pdf.text(new Date(record.recordedAt).toLocaleDateString(), 130, currentY);\r\n          pdf.text(regionName, 160, currentY);\r\n          \r\n          currentY += 5;\r\n        });\r\n      } else {\r\n        pdf.setFontSize(12);\r\n        pdf.setFont('helvetica', 'normal');\r\n        pdf.text('No attendance records found for the selected criteria.', 20, 80);\r\n      }\r\n\r\n      // Save the PDF\r\n      const fileName = `attendance-records-${exportStatus}-${new Date().toISOString().split('T')[0]}.pdf`;\r\n      pdf.save(fileName);\r\n      \r\n    } catch (error) {\r\n      console.error('Error exporting attendance records:', error);\r\n      alert('Failed to export attendance records. Please try again.');\r\n    } finally {\r\n      setIsExporting(false);\r\n      setShowExportOptions(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SidebarProvider>\r\n      <AppSidebar />\r\n      <SidebarInset>\r\n        <header className=\"flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12\">\r\n          <div className=\"flex items-center gap-2 px-4\">\r\n            <SidebarTrigger className=\"-ml-1\" />\r\n            <Separator\r\n              orientation=\"vertical\"\r\n              className=\"mr-2 data-[orientation=vertical]:h-4\"\r\n            />\r\n            <Breadcrumb>\r\n              <BreadcrumbList>\r\n                <BreadcrumbItem className=\"hidden md:block\">\r\n                  <BreadcrumbLink href=\"/dashboard\">\r\n                    Dashboard\r\n                  </BreadcrumbLink>\r\n                </BreadcrumbItem>\r\n                <BreadcrumbSeparator className=\"hidden md:block\" />\r\n                <BreadcrumbItem>\r\n                  <BreadcrumbLink href=\"/links/activities\">\r\n                    Activities\r\n                  </BreadcrumbLink>\r\n                </BreadcrumbItem>\r\n                <BreadcrumbSeparator />\r\n                <BreadcrumbItem>\r\n                  <BreadcrumbPage>Attendance Tracking</BreadcrumbPage>\r\n                </BreadcrumbItem>\r\n              </BreadcrumbList>\r\n            </Breadcrumb>\r\n          </div>\r\n        </header>\r\n        <div className=\"flex flex-1 flex-col gap-4 p-2 sm:p-4 pt-0\">\r\n          <div className=\"max-w-7xl mx-auto w-full\">\r\n            {/* Header */}\r\n            <div className=\"mb-4 sm:mb-6 lg:mb-8\">\r\n              <h1 className=\"text-2xl sm:text-3xl font-bold text-foreground mb-1 sm:mb-2\">Attendance Tracking</h1>\r\n              <p className=\"text-sm sm:text-base text-muted-foreground\">Manage attendance records and mark attendance for events</p>\r\n            </div>\r\n\r\n            {/* Tab Navigation */}\r\n            <div className=\"flex gap-2 mb-6\">\r\n              <Button\r\n                variant={activeTab === 'mark' ? 'default' : 'outline'}\r\n                onClick={() => setActiveTab('mark')}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                <Plus className=\"w-4 h-4\" />\r\n                Mark Attendance\r\n              </Button>\r\n              <Button\r\n                variant={activeTab === 'view' ? 'default' : 'outline'}\r\n                onClick={() => setActiveTab('view')}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                <Calendar className=\"w-4 h-4\" />\r\n                View Attendance Records\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Super Admin Scope Selector */}\r\n            {userScope?.scope === 'superadmin' && (\r\n              <SuperAdminScopeSelector onScopeChange={handleScopeChange} />\r\n            )}\r\n\r\n            {/* Show current scope for non-super admin users */}\r\n            {userScope && userScope.scope !== 'superadmin' && !scopeLoading && (\r\n              <Card className=\"mb-4\">\r\n                <CardContent className=\"p-4\">\r\n                  <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                    <span>Current Scope:</span>\r\n                    <span className=\"font-medium text-foreground capitalize\">{userScope.scope}</span>\r\n                    {userScope.region && (\r\n                      <span>• {userScope.region.name}</span>\r\n                    )}\r\n                    {userScope.university && (\r\n                      <span>• {userScope.university.name}</span>\r\n                    )}\r\n                    {userScope.smallGroup && (\r\n                      <span>• {userScope.smallGroup.name}</span>\r\n                    )}\r\n                    {userScope.alumniGroup && (\r\n                      <span>• {userScope.alumniGroup.name}</span>\r\n                    )}\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Loading state */}\r\n            {scopeLoading && (\r\n              <Card className=\"mb-4\">\r\n                <CardContent className=\"p-4\">\r\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                    <RefreshCw className=\"w-4 h-4 animate-spin\" />\r\n                    <span>Loading user scope...</span>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Mark Attendance Tab */}\r\n            {activeTab === 'mark' && !scopeLoading && (\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Users className=\"w-5 h-5\" />\r\n                    Mark Attendance\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <form onSubmit={handleAttendanceSubmit} className=\"space-y-6\">\r\n                    <div className=\"flex flex-wrap gap-4 items-end mb-4\">\r\n                      <div className=\"flex-1 min-w-[180px]\">\r\n                        <Label htmlFor=\"eventId\">Event *</Label>\r\n                        <Select value={selectedEvent} onValueChange={setSelectedEvent}>\r\n                          <SelectTrigger className=\"h-11\">\r\n                            <SelectValue placeholder=\"Select event\" />\r\n                          </SelectTrigger>\r\n                          <SelectContent>\r\n                            {events.map((event) => (\r\n                              <SelectItem key={event.id} value={event.id.toString()}>\r\n                                {event.name}\r\n                              </SelectItem>\r\n                            ))}\r\n                          </SelectContent>\r\n                        </Select>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {submitMessage && (\r\n                      <div className=\"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <div className=\"flex items-center\">\r\n                            <CheckCircle className=\"h-5 w-5 text-green-400 mr-3\" />\r\n                            <p className=\"text-sm font-medium text-green-800\">{submitMessage}</p>\r\n                          </div>\r\n                          <Button\r\n                            type=\"button\"\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => {\r\n                              setSubmitMessage(null);\r\n                              setSelectedEvent(\"\");\r\n                            }}\r\n                          >\r\n                            Mark Another Attendance\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {submitError && (\r\n                      <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n                        <div className=\"flex items-center\">\r\n                          <XCircle className=\"h-5 w-5 text-red-400 mr-3\" />\r\n                          <p className=\"text-sm font-medium text-red-800\">{submitError}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Members Attendance Table */}\r\n                    {isLoadingMembers ? (\r\n                      <div className=\"mt-8 p-4 bg-muted/50 border rounded text-muted-foreground text-center\">\r\n                        <RefreshCw className=\"w-4 h-4 animate-spin mx-auto mb-2\" />\r\n                        Loading members...\r\n                      </div>\r\n                    ) : members.length > 0 ? (\r\n                      <div className=\"overflow-x-auto mt-8\">\r\n                        <table className=\"min-w-full divide-y divide-border\">\r\n                          <thead>\r\n                            <tr>\r\n                              <th className=\"px-4 py-2 text-left text-xs font-medium text-muted-foreground uppercase\">Member</th>\r\n                              <th className=\"px-4 py-2 text-left text-xs font-medium text-muted-foreground uppercase\">Attendance</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody className=\"divide-y divide-border\">\r\n                            {members.map(member => (\r\n                              <tr key={member.id}>\r\n                                <td className=\"px-4 py-2 text-foreground\">{member.firstname} {member.secondname}</td>\r\n                                <td className=\"px-4 py-2\">\r\n                                  <div className=\"flex gap-2\">\r\n                                    {attendanceStatuses.map(status => (\r\n                                      <Button\r\n                                        key={status.value}\r\n                                        type=\"button\"\r\n                                        variant={attendance[member.id] === status.value ? \"default\" : \"outline\"}\r\n                                        size=\"sm\"\r\n                                        className={`px-3 py-1 text-xs transition ${\r\n                                          attendance[member.id] === status.value\r\n                                            ? status.value === 'present'\r\n                                              ? 'bg-green-500 hover:bg-green-600 text-white'\r\n                                              : status.value === 'excused'\r\n                                                ? 'bg-yellow-500 hover:bg-yellow-600 text-white'\r\n                                                : 'bg-red-500 hover:bg-red-600 text-white'\r\n                                            : status.value === 'present'\r\n                                              ? 'border-green-400 text-green-700 hover:bg-green-50'\r\n                                              : status.value === 'excused'\r\n                                                ? 'border-yellow-400 text-yellow-700 hover:bg-yellow-50'\r\n                                                : 'border-red-400 text-red-700 hover:bg-red-50'\r\n                                        }`}\r\n                                        onClick={() => handleAttendanceChange(member.id.toString(), status.value)}\r\n                                      >\r\n                                        {status.label}\r\n                                      </Button>\r\n                                    ))}\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n                          </tbody>\r\n                        </table>\r\n                        <div className=\"mt-6 text-right\">\r\n                          <Button type=\"submit\" className=\"px-6 py-2\">\r\n                            Save Attendance\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                    ) : selectedEvent ? (\r\n                      <div className=\"mt-8 p-4 bg-muted/50 border rounded text-muted-foreground text-center\">\r\n                        No members found for the selected criteria.\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"mt-8 p-4 bg-blue-50 border border-blue-200 rounded text-blue-600 text-center\">\r\n                        Please select an event to mark attendance for.\r\n                      </div>\r\n                    )}\r\n                  </form>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n\r\n            {/* View Attendance Records Tab */}\r\n            {activeTab === 'view' && !scopeLoading && (\r\n              <div className=\"space-y-4\">\r\n                {/* Filter Controls */}\r\n                <Card>\r\n                  <CardContent className=\"p-4\">\r\n                    <div className=\"flex flex-wrap gap-4 items-end\">\r\n                      <div className=\"min-w-[180px]\">\r\n                        <Label htmlFor=\"eventFilter\">Event</Label>\r\n                        <Select value={eventFilter} onValueChange={setEventFilter}>\r\n                          <SelectTrigger className=\"h-11\">\r\n                            <SelectValue placeholder=\"All Events\" />\r\n                          </SelectTrigger>\r\n                          <SelectContent>\r\n                            {events.map((event) => (\r\n                              <SelectItem key={event.id} value={event.id.toString()}>\r\n                                {event.name}\r\n                              </SelectItem>\r\n                            ))}\r\n                          </SelectContent>\r\n                        </Select>\r\n                      </div>\r\n                      <div className=\"min-w-[150px]\">\r\n                        <Label htmlFor=\"statusFilter\">Status</Label>\r\n                        <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                          <SelectTrigger className=\"h-11\">\r\n                            <SelectValue placeholder=\"All Statuses\" />\r\n                          </SelectTrigger>\r\n                          <SelectContent>\r\n                            {attendanceStatuses.map((status) => (\r\n                              <SelectItem key={status.value} value={status.value}>\r\n                                {status.label}\r\n                              </SelectItem>\r\n                            ))}\r\n                          </SelectContent>\r\n                        </Select>\r\n                      </div>\r\n                      <div className=\"min-w-[150px]\">\r\n                        <Label htmlFor=\"dateFrom\">From Date</Label>\r\n                        <Input\r\n                          type=\"date\"\r\n                          value={dateFrom}\r\n                          onChange={(e) => setDateFrom(e.target.value)}\r\n                          className=\"h-11\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"min-w-[150px]\">\r\n                        <Label htmlFor=\"dateTo\">To Date</Label>\r\n                        <Input\r\n                          type=\"date\"\r\n                          value={dateTo}\r\n                          onChange={(e) => setDateTo(e.target.value)}\r\n                          className=\"h-11\"\r\n                        />\r\n                      </div>\r\n                      {/* Only show scope filters for super admin */}\r\n                      {userScope?.scope === 'superadmin' && (\r\n                        <>\r\n                          <div className=\"min-w-[180px]\">\r\n                            <Label htmlFor=\"regionFilter\">Region</Label>\r\n                            <Select value={selectedRegionFilter} onValueChange={handleRegionFilterChange}>\r\n                              <SelectTrigger className=\"h-11\">\r\n                                <SelectValue placeholder=\"All Regions\" />\r\n                              </SelectTrigger>\r\n                              <SelectContent>\r\n                                {regions.map((region) => (\r\n                                  <SelectItem key={region.id} value={region.id.toString()}>\r\n                                    {region.name}\r\n                                  </SelectItem>\r\n                                ))}\r\n                              </SelectContent>\r\n                            </Select>\r\n                          </div>\r\n                          <div className=\"min-w-[180px]\">\r\n                            <Label htmlFor=\"universityFilter\">University</Label>\r\n                            <Select \r\n                              value={selectedUniversityFilter} \r\n                              onValueChange={handleUniversityFilterChange}\r\n                              disabled={!selectedRegionFilter}\r\n                            >\r\n                              <SelectTrigger className=\"h-11\">\r\n                                <SelectValue placeholder={selectedRegionFilter ? \"All Universities\" : \"Select region first\"} />\r\n                              </SelectTrigger>\r\n                              <SelectContent>\r\n                                {universities.map((university) => (\r\n                                  <SelectItem key={university.id} value={university.id.toString()}>\r\n                                    {university.name}\r\n                                  </SelectItem>\r\n                                ))}\r\n                              </SelectContent>\r\n                            </Select>\r\n                          </div>\r\n                          <div className=\"min-w-[180px]\">\r\n                            <Label htmlFor=\"smallGroupFilter\">Small Group</Label>\r\n                            <Select \r\n                              value={selectedSmallGroupFilter} \r\n                              onValueChange={handleSmallGroupFilterChange}\r\n                              disabled={!selectedUniversityFilter}\r\n                            >\r\n                              <SelectTrigger className=\"h-11\">\r\n                                <SelectValue placeholder={selectedUniversityFilter ? \"All Small Groups\" : \"Select university first\"} />\r\n                              </SelectTrigger>\r\n                              <SelectContent>\r\n                                {smallGroups.map((smallGroup) => (\r\n                                  <SelectItem key={smallGroup.id} value={smallGroup.id.toString()}>\r\n                                    {smallGroup.name}\r\n                                  </SelectItem>\r\n                                ))}\r\n                              </SelectContent>\r\n                            </Select>\r\n                          </div>\r\n                          <div className=\"min-w-[180px]\">\r\n                            <Label htmlFor=\"alumniGroupFilter\">Alumni Group</Label>\r\n                            <Select \r\n                              value={selectedAlumniGroupFilter} \r\n                              onValueChange={handleAlumniGroupFilterChange}\r\n                              disabled={!selectedRegionFilter}\r\n                            >\r\n                              <SelectTrigger className=\"h-11\">\r\n                                <SelectValue placeholder={selectedRegionFilter ? \"All Alumni Groups\" : \"Select region first\"} />\r\n                              </SelectTrigger>\r\n                              <SelectContent>\r\n                                {alumniGroups.map((alumniGroup) => (\r\n                                  <SelectItem key={alumniGroup.id} value={alumniGroup.id.toString()}>\r\n                                    {alumniGroup.name}\r\n                                  </SelectItem>\r\n                                ))}\r\n                              </SelectContent>\r\n                            </Select>\r\n                          </div>\r\n                        </>\r\n                      )}\r\n                      <div className=\"flex-1 min-w-[200px]\">\r\n                        <Label htmlFor=\"search\">Search</Label>\r\n                        <div className=\"relative\">\r\n                          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4\" />\r\n                          <Input\r\n                            type=\"text\"\r\n                            placeholder=\"Search by member or event name...\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                            className=\"pl-10 h-11\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-end gap-2\">\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"outline\"\r\n                          onClick={() => {\r\n                            setEventFilter(\"\");\r\n                            setStatusFilter(\"\");\r\n                            setDateFrom(\"\");\r\n                            setDateTo(\"\");\r\n                            setSearchQuery(\"\");\r\n                            setSelectedRegionFilter(\"\");\r\n                            setSelectedUniversityFilter(\"\");\r\n                            setSelectedSmallGroupFilter(\"\");\r\n                            setSelectedAlumniGroupFilter(\"\");\r\n                          }}\r\n                          className=\"h-11\"\r\n                        >\r\n                          Clear Filters\r\n                        </Button>\r\n                        \r\n                        {/* Export Options Dropdown */}\r\n                        <DropdownMenu open={showExportOptions} onOpenChange={setShowExportOptions}>\r\n                          <DropdownMenuTrigger asChild>\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              className=\"flex items-center gap-2 h-11\"\r\n                              disabled={isExporting}\r\n                            >\r\n                              <Download className=\"w-4 h-4\" />\r\n                              {isExporting ? 'Exporting...' : 'Export Document'}\r\n                              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                              </svg>\r\n                            </Button>\r\n                          </DropdownMenuTrigger>\r\n                          <DropdownMenuContent align=\"end\" className=\"w-48\">\r\n                            <DropdownMenuItem onClick={() => exportToPDF('all')}>\r\n                              Export All Records\r\n                            </DropdownMenuItem>\r\n                            <DropdownMenuItem onClick={() => exportToPDF('present')}>\r\n                              Export Present Only\r\n                            </DropdownMenuItem>\r\n                            <DropdownMenuItem onClick={() => exportToPDF('absent')}>\r\n                              Export Absent Only\r\n                            </DropdownMenuItem>\r\n                            <DropdownMenuItem onClick={() => exportToPDF('excused')}>\r\n                              Export Excused Only\r\n                            </DropdownMenuItem>\r\n                          </DropdownMenuContent>\r\n                        </DropdownMenu>\r\n                      </div>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                {/* Attendance Statistics */}\r\n                {filteredAttendance.length > 0 && (\r\n                  <Card>\r\n                    <CardContent className=\"p-4\">\r\n                      <div className=\"flex flex-wrap gap-6 items-center\">\r\n                        <div className=\"text-sm font-medium text-muted-foreground\">\r\n                          Total Records: <span className=\"font-bold text-foreground\">{attendanceStats.total}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\r\n                          <span className=\"text-sm text-muted-foreground\">\r\n                            Present: <span className=\"font-semibold text-green-600\">{attendanceStats.present}</span>\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <div className=\"w-3 h-3 bg-red-500 rounded-full\"></div>\r\n                          <span className=\"text-sm text-muted-foreground\">\r\n                            Absent: <span className=\"font-semibold text-red-600\">{attendanceStats.absent}</span>\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <div className=\"w-3 h-3 bg-yellow-500 rounded-full\"></div>\r\n                          <span className=\"text-sm text-muted-foreground\">\r\n                            Excused: <span className=\"font-semibold text-yellow-600\">{attendanceStats.excused}</span>\r\n                          </span>\r\n                        </div>\r\n                        {attendanceStats.total > 0 && (\r\n                          <div className=\"text-sm text-muted-foreground\">\r\n                            Attendance Rate: <span className=\"font-semibold text-blue-600\">\r\n                              {Math.round((attendanceStats.present / attendanceStats.total) * 100)}%\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </CardContent>\r\n                  </Card>\r\n                )}\r\n\r\n                {/* Attendance Records Table */}\r\n                <Card>\r\n                  <CardContent className=\"p-0\">\r\n                    {loading ? (\r\n                      <div className=\"flex items-center justify-center py-12\">\r\n                        <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                          <RefreshCw className=\"w-4 h-4 animate-spin\" />\r\n                          <span>Loading attendance records...</span>\r\n                        </div>\r\n                      </div>\r\n                    ) : error ? (\r\n                      <div className=\"flex items-center justify-center py-12\">\r\n                        <div className=\"text-center\">\r\n                          <AlertCircle className=\"w-8 h-8 text-destructive mx-auto mb-2\" />\r\n                          <div className=\"text-destructive text-lg mb-2\">Error loading attendance records</div>\r\n                          <p className=\"text-muted-foreground mb-4\">{error}</p>\r\n                          <Button onClick={fetchAttendanceRecords}>\r\n                            Retry\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                    ) : !filteredAttendance || filteredAttendance.length === 0 ? (\r\n                      <div className=\"flex items-center justify-center py-12\">\r\n                        <div className=\"text-center\">\r\n                          <Calendar className=\"w-12 h-12 text-muted-foreground mx-auto mb-4\" />\r\n                          <div className=\"text-muted-foreground text-lg mb-2\">No attendance records found</div>\r\n                          <p className=\"text-muted-foreground\">\r\n                            {searchQuery ? `No results for \"${searchQuery}\". Try a different search term.` : \"There are no attendance records to display at the moment.\"}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"overflow-x-auto\">\r\n                        <table className=\"w-full\">\r\n                          <thead className=\"bg-muted/50 border-b border-border\">\r\n                            <tr>\r\n                              <th className=\"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider\">Member</th>\r\n                              <th className=\"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider\">Event</th>\r\n                              <th className=\"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider\">Status</th>\r\n                              <th className=\"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider\">Date</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody className=\"bg-card divide-y divide-border\">\r\n                            {filteredAttendance.map((record) => (\r\n                              <tr key={record.id} className=\"hover:bg-muted/50\">\r\n                                <td className=\"px-6 py-4 text-sm font-medium text-foreground\">\r\n                                  {record.member ? `${record.member.firstname} ${record.member.secondname}` : \"N/A\"}\r\n                                </td>\r\n                                <td className=\"px-6 py-4 text-sm text-muted-foreground\">\r\n                                  {record.permanentministryevent?.name || record.trainings?.name || \"N/A\"}\r\n                                </td>\r\n                                <td className=\"px-6 py-4 text-sm\">\r\n                                  {editingId === record.id ? (\r\n                                    <div className=\"flex gap-2\">\r\n                                      {attendanceStatuses.map((statusOpt) => (\r\n                                        <Button\r\n                                          key={statusOpt.value}\r\n                                          type=\"button\"\r\n                                          variant={editStatus === statusOpt.value ? \"default\" : \"outline\"}\r\n                                          size=\"sm\"\r\n                                          className={`px-3 py-1 text-xs ${\r\n                                            editStatus === statusOpt.value\r\n                                              ? statusOpt.value === 'present'\r\n                                                ? 'bg-green-500 hover:bg-green-600 text-white'\r\n                                                : statusOpt.value === 'excused'\r\n                                                  ? 'bg-yellow-500 hover:bg-yellow-600 text-white'\r\n                                                  : 'bg-red-500 hover:bg-red-600 text-white'\r\n                                              : statusOpt.value === 'present'\r\n                                                ? 'border-green-400 text-green-700 hover:bg-green-50'\r\n                                                : statusOpt.value === 'excused'\r\n                                                  ? 'border-yellow-400 text-yellow-700 hover:bg-yellow-50'\r\n                                                  : 'border-red-400 text-red-700 hover:bg-red-50'\r\n                                          }`}\r\n                                          onClick={() => setEditStatus(statusOpt.value)}\r\n                                        >\r\n                                          {statusOpt.label}\r\n                                        </Button>\r\n                                      ))}\r\n                                      <Button\r\n                                        type=\"button\"\r\n                                        size=\"sm\"\r\n                                        onClick={() => handleSave(record)}\r\n                                        className=\"ml-2 px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-xs\"\r\n                                      >\r\n                                        Save\r\n                                      </Button>\r\n                                      <Button\r\n                                        type=\"button\"\r\n                                        variant=\"outline\"\r\n                                        size=\"sm\"\r\n                                        onClick={handleCancel}\r\n                                        className=\"px-3 py-1 text-xs\"\r\n                                      >\r\n                                        Cancel\r\n                                      </Button>\r\n                                    </div>\r\n                                  ) : (\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                      <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                                        record.status === 'present'\r\n                                          ? 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400'\r\n                                          : record.status === 'excused'\r\n                                            ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400'\r\n                                            : 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400'\r\n                                      }`}>\r\n                                        {record.status.charAt(0).toUpperCase() + record.status.slice(1)}\r\n                                      </span>\r\n                                      <Button\r\n                                        type=\"button\"\r\n                                        variant=\"outline\"\r\n                                        size=\"sm\"\r\n                                        onClick={() => handleEdit(record)}\r\n                                        className=\"px-2 py-1 text-xs\"\r\n                                      >\r\n                                        Edit\r\n                                      </Button>\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"px-6 py-4 text-sm text-muted-foreground\">\r\n                                  {formatDate(record.recordedAt)}\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    )}\r\n\r\n                    {editMessage && (\r\n                      <div className=\"p-4 bg-green-50 border-t border-green-200\">\r\n                        <div className=\"flex items-center text-green-800\">\r\n                          <CheckCircle className=\"w-4 h-4 mr-2\" />\r\n                          {editMessage}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    {editError && (\r\n                      <div className=\"p-4 bg-red-50 border-t border-red-200\">\r\n                        <div className=\"flex items-center text-red-800\">\r\n                          <XCircle className=\"w-4 h-4 mr-2\" />\r\n                          {editError}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </SidebarInset>\r\n    </SidebarProvider>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n];\n\n/**\n * @component @name CircleX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleX = createLucideIcon('circle-x', __iconNode);\n\nexport default CircleX;\n"],"names":[],"mappings":"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","ignoreList":[2]}