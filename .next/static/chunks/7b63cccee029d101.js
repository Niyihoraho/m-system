(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26732,e=>{"use strict";e.s(["SessionProvider",()=>T,"signIn",()=>U,"signOut",()=>P,"useSession",()=>E],26732);var t,n,r,s,o,a=e.i(47167),i=e.i(43476),l=e.i(71645);class c extends Error{constructor(e,t){var n,r,s,o;e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=null!=(s=this.constructor.type)?s:"AuthError",this.kind=null!=(o=this.constructor.kind)?o:"error",null==(n=(r=Error).captureStackTrace)||n.call(r,this,this.constructor);let a="https://errors.authjs.dev#".concat(this.type.toLowerCase());this.message+="".concat(this.message?". ":"","Read more at ").concat(a)}}class u extends c{}class d extends c{}async function h(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s="".concat(f(t),"/").concat(e);try{var o;let e={headers:{"Content-Type":"application/json",...(null==r||null==(o=r.headers)?void 0:o.cookie)?{cookie:r.headers.cookie}:{}}};(null==r?void 0:r.body)&&(e.body=JSON.stringify(r.body),e.method="POST");let t=await fetch(s,e),n=await t.json();if(!t.ok)throw n;return n}catch(e){return n.error(new u(e.message,e)),null}}function f(e){return"undefined"==typeof window?"".concat(e.baseUrlServer).concat(e.basePathServer):e.basePath}function v(){return Math.floor(Date.now()/1e3)}function w(e){let t=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e="https://".concat(e));let n=new URL(e||t),r=("/"===n.pathname?t.pathname:n.pathname).replace(/\/$/,""),s="".concat(n.origin).concat(r);return{origin:n.origin,host:n.host,path:r,base:s,toString:()=>s}}let g={baseUrl:w(null!=(n=a.default.env.NEXTAUTH_URL)?n:a.default.env.VERCEL_URL).origin,basePath:w(a.default.env.NEXTAUTH_URL).path,baseUrlServer:w(null!=(s=null!=(r=a.default.env.NEXTAUTH_URL_INTERNAL)?r:a.default.env.NEXTAUTH_URL)?s:a.default.env.VERCEL_URL).origin,basePathServer:w(null!=(o=a.default.env.NEXTAUTH_URL_INTERNAL)?o:a.default.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},p=null;function m(){return"undefined"==typeof BroadcastChannel?{postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{},name:"next-auth",onmessage:null,onmessageerror:null,close:()=>{},dispatchEvent:()=>!1}:new BroadcastChannel("next-auth")}function S(){return null===p&&(p=m()),p}let y={debug:console.debug,error:console.error,warn:console.warn},b=null==(t=l.createContext)?void 0:t.call(l,void 0);function E(e){if(!b)throw Error("React Context is unavailable in Server Components");let t=l.useContext(b),{required:n,onUnauthenticated:r}=null!=e?e:{},s=n&&"unauthenticated"===t.status;return(l.useEffect(()=>{if(s){let e="".concat(g.basePath,"/signin?").concat(new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href}));r?r():window.location.href=e}},[s,r]),s)?{data:t.data,update:t.update,status:"loading"}:t}async function R(e){var t;let n=await h("session",g,y,e);return(null==(t=null==e?void 0:e.broadcast)||t)&&m().postMessage({event:"session",data:{trigger:"getSession"}}),n}async function L(){var e;let t=await h("csrf",g,y);return null!=(e=null==t?void 0:t.csrfToken)?e:""}async function _(){return h("providers",g,y)}async function U(e,t,n){var r,s,o;let{callbackUrl:a,...i}=null!=t?t:{},{redirect:l=!0,redirectTo:c=null!=a?a:window.location.href,...u}=i,d=f(g),h=await _();if(!h){window.location.href="".concat(d,"/error");return}if(!e||!h[e]){let e="".concat(d,"/signin?").concat(new URLSearchParams({callbackUrl:c}));window.location.href=e;return}let v=h[e].type;if("webauthn"===v)throw TypeError(['Provider id "'.concat(e,'" refers to a WebAuthn provider.'),'Please use `import { signIn } from "next-auth/webauthn"` instead.'].join("\n"));let w="".concat(d,"/").concat("credentials"===v?"callback":"signin","/").concat(e),p=await L(),m=await fetch("".concat(w,"?").concat(new URLSearchParams(n)),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...u,csrfToken:p,callbackUrl:c})}),S=await m.json();if(l){let e=null!=(r=S.url)?r:c;window.location.href=e,e.includes("#")&&window.location.reload();return}let y=null!=(s=new URL(S.url).searchParams.get("error"))?s:void 0,b=null!=(o=new URL(S.url).searchParams.get("code"))?o:void 0;return m.ok&&await g._getSession({event:"storage"}),{error:y,code:b,status:m.status,ok:m.ok,url:y?null:S.url}}async function P(e){var t,n;let{redirect:r=!0,redirectTo:s=null!=(t=null==e?void 0:e.callbackUrl)?t:window.location.href}=null!=e?e:{},o=f(g),a=await L(),i=await fetch("".concat(o,"/signout"),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({csrfToken:a,callbackUrl:s})}),l=await i.json();if(S().postMessage({event:"session",data:{trigger:"signout"}}),r){let e=null!=(n=l.url)?n:s;window.location.href=e,e.includes("#")&&window.location.reload();return}return await g._getSession({event:"storage"}),l}function T(e){if(!b)throw Error("React Context is unavailable in Server Components");let{children:t,basePath:n,refetchInterval:r,refetchWhenOffline:s}=e;n&&(g.basePath=n);let o=void 0!==e.session;g._lastSync=o?v():0;let[a,c]=l.useState(()=>(o&&(g._session=e.session),e.session)),[u,f]=l.useState(!o);l.useEffect(()=>(g._getSession=async function(){let{event:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t="storage"===e;if(t||void 0===g._session){g._lastSync=v(),g._session=await R({broadcast:!t}),c(g._session);return}if(!e||null===g._session||v()<g._lastSync)return;g._lastSync=v(),g._session=await R(),c(g._session)}catch(e){y.error(new d(e.message,e))}finally{f(!1)}},g._getSession(),()=>{g._lastSync=0,g._session=void 0,g._getSession=()=>{}}),[]),l.useEffect(()=>{let e=()=>g._getSession({event:"storage"});return S().addEventListener("message",e),()=>S().removeEventListener("message",e)},[]),l.useEffect(()=>{let{refetchOnWindowFocus:t=!0}=e,n=()=>{t&&"visible"===document.visibilityState&&g._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",n,!1),()=>document.removeEventListener("visibilitychange",n,!1)},[e.refetchOnWindowFocus]);let w=function(){let[e,t]=l.useState("undefined"!=typeof navigator&&navigator.onLine),n=()=>t(!0),r=()=>t(!1);return l.useEffect(()=>(window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}),[]),e}(),p=!1!==s||w;l.useEffect(()=>{if(r&&p){let e=setInterval(()=>{g._session&&g._getSession({event:"poll"})},1e3*r);return()=>clearInterval(e)}},[r,p]);let m=l.useMemo(()=>({data:a,status:u?"loading":a?"authenticated":"unauthenticated",async update(e){if(u)return;f(!0);let t=await h("session",g,y,void 0===e?void 0:{body:{csrfToken:await L(),data:e}});return f(!1),t&&(c(t),S().postMessage({event:"session",data:{trigger:"getSession"}})),t}}),[a,u]);return(0,i.jsx)(b.Provider,{value:m,children:t})}},6482,e=>{"use strict";e.s(["RoleAccessProvider",()=>o,"useRoleAccess",()=>a]);var t=e.i(43476),n=e.i(71645),r=e.i(26732);let s=(0,n.createContext)({userScope:null,isLoading:!0,userRole:null});function o(e){let{children:o}=e,{data:a,status:i}=(0,r.useSession)(),[l,c]=(0,n.useState)(null),[u,d]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{var e;if("loading"!==i){if(!(null==a||null==(e=a.user)?void 0:e.id))return d(!1);try{let e=await fetch("/api/members/current-user-scope");if(e.ok){let t=await e.json();c(t.scope)}else{let t=await e.json().catch(()=>({}));console.error("Failed to fetch user scope:",{status:e.status,statusText:e.statusText,error:t})}}catch(e){console.error("Error fetching user scope:",e)}finally{d(!1)}}})()},[a,i]);let h={userScope:l,isLoading:"loading"===i||u,userRole:(null==l?void 0:l.scope)||null};return(0,t.jsx)(s.Provider,{value:h,children:o})}function a(){let e=(0,n.useContext)(s);if(void 0===e)throw Error("useRoleAccess must be used within a RoleAccessProvider");return e}},62356,e=>{"use strict";e.s(["IdProvider",()=>o,"useId",()=>a]);var t=e.i(43476),n=e.i(71645);let r=(0,n.createContext)({generateId:()=>""}),s=0;function o(e){let{children:o}=e,[a,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{i(!0)},[]),(0,t.jsx)(r.Provider,{value:{generateId:()=>a?"radix-".concat(Math.random().toString(36).substr(2,9)):"radix-id-".concat(++s)},children:o})}let a=()=>{let e=(0,n.useContext)(r);if(!e)throw Error("useId must be used within an IdProvider");return e.generateId}},7229,e=>{"use strict";e.s(["AuthProvider",()=>r]);var t=e.i(43476),n=e.i(26732);function r(e){let{children:r}=e;return(0,t.jsx)(n.SessionProvider,{children:r})}}]);