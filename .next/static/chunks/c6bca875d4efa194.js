(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,65337,e=>{"use strict";e.s(["default",()=>eM],65337);var t=e.i(43476),a=e.i(71645),n=e.i(17255),i=e.i(18566),r=e.i(55749),l=e.i(9694),s=e.i(75225),o=e.i(85183),c=e.i(93230),d=e.i(72526),g=e.i(34239),h=e.i(31195),m=e.i(41891),x=e.i(38814),u=e.i(22787),p=e.i(237),v=e.i(1725),j=e.i(25949),y=e.i(33369),f=["axis"],b=(0,a.forwardRef)((e,t)=>a.createElement(y.CartesianChart,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:f,tooltipPayloadSearcher:j.arrayTooltipSearcher,categoricalChartProps:e,ref:t})),E=a,S=e.i(7670),k=e.i(72733),C=e.i(38279),N=e.i(97865),w=e.i(69212),L=e.i(94395),A=e.i(81977),P=e.i(62728),I=e.i(79812),D=e.i(41818),T=e.i(844),R=e.i(45542),F=e.i(59798),B=e.i(46710),M=e.i(75337),O=e.i(61849),G=e.i(92860),V=e.i(61764),z=(e,t,a,n)=>(0,V.selectAxisWithScale)(e,"xAxis",t,n),W=(e,t,a,n)=>(0,V.selectTicksOfGraphicalItem)(e,"xAxis",t,n),K=(e,t,a,n)=>(0,V.selectAxisWithScale)(e,"yAxis",a,n),H=(e,t,a,n)=>(0,V.selectTicksOfGraphicalItem)(e,"yAxis",a,n),U=(0,O.createSelector)([B.selectChartLayout,z,K,W,H],(e,t,a,n,i)=>(0,I.isCategoricalAxis)(e,"xAxis")?(0,I.getBandSizeOfAxis)(t,n,!1):(0,I.getBandSizeOfAxis)(a,i,!1));function Y(e){return"line"===e.type}var J=(0,O.createSelector)([V.selectUnfilteredCartesianItems,(e,t,a,n,i)=>i],(e,t)=>e.filter(Y).find(e=>e.id===t)),X=(0,O.createSelector)([B.selectChartLayout,z,K,W,H,J,U,G.selectChartDataWithIndexesIfNotInPanorama],(e,t,a,n,i,r,l,s)=>{var o,{chartData:c,dataStartIndex:d,dataEndIndex:g}=s;if(null!=r&&null!=t&&null!=a&&null!=n&&null!=i&&0!==n.length&&0!==i.length&&null!=l){var{dataKey:h,data:m}=r;if(null!=(o=null!=m&&m.length>0?m:null==c?void 0:c.slice(d,g+1)))return function(e){var{layout:t,xAxis:a,yAxis:n,xAxisTicks:i,yAxisTicks:r,dataKey:l,bandSize:s,displayedData:o}=e;return o.map((e,o)=>{var c=(0,I.getValueByDataKey)(e,l);if("horizontal"===t)return{x:(0,I.getCateCoordinateOfLine)({axis:a,ticks:i,bandSize:s,entry:e,index:o}),y:(0,L.isNullish)(c)?null:n.scale(c),value:c,payload:e};var d=(0,L.isNullish)(c)?null:a.scale(c),g=(0,I.getCateCoordinateOfLine)({axis:n,ticks:r,bandSize:s,entry:e,index:o});return null==d||null==g?null:{x:d,y:g,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:h,bandSize:l,displayedData:o})}}),_=e.i(27241),q=e.i(95146),Q=e.i(40657),Z=e.i(51883),$=e.i(52734),ee=e.i(15549),et=e.i(91187),ea=e.i(57999),en=e.i(66576),ei=["id"],er=["type","layout","connectNulls","needClip"],el=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function es(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function eo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?es(Object(a),!0).forEach(function(t){var n,i,r;n=e,i=t,r=a[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):es(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ec(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function ed(){return(ed=Object.assign.bind()).apply(null,arguments)}function eg(e){var{dataKey:t,data:a,stroke:n,strokeWidth:i,fill:r,name:l,hide:s,unit:o}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:r,dataKey:t,nameKey:void 0,name:(0,I.getTooltipNameProp)(l,t),hide:s,type:e.tooltipType,color:e.stroke,unit:o}}}var eh=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function em(e){var{clipPathId:t,points:a,props:n}=e,{dot:i,dataKey:r,needClip:l}=n;if(null==a||!i&&1!==a.length)return null;var{id:s}=n,o=ec(n,ei),c=(0,A.isClipDot)(i),d=(0,ea.svgPropertiesNoEvents)(o),g=(0,A.filterProps)(i,!0),h=a.map((e,t)=>{var n,l=eo(eo(eo({key:"dot-".concat(t),r:3},d),g),{},{index:t,cx:e.x,cy:e.y,dataKey:r,value:e.value,payload:e.payload,points:a});if(E.isValidElement(i))n=E.cloneElement(i,l);else if("function"==typeof i)n=i(l);else{var s=(0,S.clsx)("recharts-line-dot","boolean"!=typeof i?i.className:"");n=E.createElement(C.Dot,ed({},l,{className:s}))}return n}),m={clipPath:l?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return E.createElement(N.Layer,ed({className:"recharts-line-dots",key:"dots"},m),h)}function ex(e){var{showLabels:t,children:a,points:n}=e,i=(0,E.useMemo)(()=>null==n?void 0:n.map(e=>{var t={x:e.x,y:e.y,width:0,height:0};return eo(eo({},t),{},{value:e.value,payload:e.payload,viewBox:t,parentViewBox:void 0,fill:void 0})}),[n]);return E.createElement(w.CartesianLabelListContextProvider,{value:t?i:null},a)}function eu(e){var{clipPathId:t,pathRef:a,points:n,strokeDasharray:i,props:r}=e,{type:l,layout:s,connectNulls:o,needClip:c}=r,d=ec(r,er),g=eo(eo({},(0,A.filterProps)(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:s,connectNulls:o,strokeDasharray:null!=i?i:r.strokeDasharray});return E.createElement(E.Fragment,null,(null==n?void 0:n.length)>1&&E.createElement(k.Curve,ed({},g,{pathRef:a})),E.createElement(em,{points:n,clipPathId:t,props:r}))}function ep(e){var{clipPathId:t,props:a,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:r}=e,{points:l,strokeDasharray:s,isAnimationActive:o,animationBegin:c,animationDuration:d,animationEasing:g,animateNewValues:h,width:m,height:x,onAnimationEnd:u,onAnimationStart:p}=a,v=i.current,j=(0,Q.useAnimationId)(a,"recharts-line-"),[y,f]=(0,E.useState)(!1),b=(0,E.useCallback)(()=>{"function"==typeof u&&u(),f(!1)},[u]),S=(0,E.useCallback)(()=>{"function"==typeof p&&p(),f(!0)},[p]),k=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}(n.current),C=r.current;return E.createElement(ex,{points:l,showLabels:!y},a.children,E.createElement(en.JavascriptAnimate,{animationId:j,begin:c,duration:d,isActive:o,easing:g,onAnimationEnd:b,onAnimationStart:S,key:j},e=>{var c,d=Math.min((0,L.interpolate)(C,k+C,e),k);if(c=o?s?((e,t,a)=>{var n=a.reduce((e,t)=>e+t);if(!n)return eh(t,e);for(var i=Math.floor(e/n),r=e%n,l=t-e,s=[],o=0,c=0;o<a.length;c+=a[o],++o)if(c+a[o]>r){s=[...a.slice(0,o),r-c];break}var d=s.length%2==0?[0,l]:[l];return[...function(e,t){for(var a=e.length%2!=0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...a];return n}(a,i),...s,...d].map(e=>"".concat(e,"px")).join(", ")})(d,k,"".concat(s).split(/[,\s]+/gim).map(e=>parseFloat(e))):eh(k,d):null==s?void 0:String(s),v){var g=v.length/l.length,u=1===e?l:l.map((t,a)=>{var n=Math.floor(a*g);if(v[n]){var i=v[n];return eo(eo({},t),{},{x:(0,L.interpolate)(i.x,t.x,e),y:(0,L.interpolate)(i.y,t.y,e)})}return h?eo(eo({},t),{},{x:(0,L.interpolate)(2*m,t.x,e),y:(0,L.interpolate)(x/2,t.y,e)}):eo(eo({},t),{},{x:t.x,y:t.y})});return i.current=u,E.createElement(eu,{props:a,points:u,clipPathId:t,pathRef:n,strokeDasharray:c})}return e>0&&k>0&&(i.current=l,r.current=d),E.createElement(eu,{props:a,points:l,clipPathId:t,pathRef:n,strokeDasharray:c})}),E.createElement(w.LabelListFromLabelProp,{label:a.label}))}function ev(e){var{clipPathId:t,props:a}=e,n=(0,E.useRef)(null),i=(0,E.useRef)(0),r=(0,E.useRef)(null);return E.createElement(ep,{props:a,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:r})}var ej=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:(0,I.getValueByDataKey)(e.payload,t)});class ey extends E.Component{render(){var e,{hide:t,dot:a,points:n,className:i,xAxisId:r,yAxisId:l,top:s,left:o,width:c,height:d,id:g,needClip:h}=this.props;if(t)return null;var m=(0,S.clsx)("recharts-line",i),{r:x=3,strokeWidth:u=2}=null!=(e=(0,A.filterProps)(a,!1))?e:{r:3,strokeWidth:2},p=(0,A.isClipDot)(a),v=2*x+u;return E.createElement(E.Fragment,null,E.createElement(N.Layer,{className:m},h&&E.createElement("defs",null,E.createElement(F.GraphicalItemClipPath,{clipPathId:g,xAxisId:r,yAxisId:l}),!p&&E.createElement("clipPath",{id:"clipPath-dots-".concat(g)},E.createElement("rect",{x:o-v/2,y:s-v/2,width:c+v,height:d+v}))),E.createElement(R.SetErrorBarContext,{xAxisId:r,yAxisId:l,data:n,dataPointFormatter:ej,errorBarOffset:0},E.createElement(ev,{props:this.props,clipPathId:g}))),E.createElement(D.ActivePoints,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var ef={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!P.Global.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function eb(e){var t=(0,Z.resolveDefaultProps)(e,ef),{activeDot:a,animateNewValues:n,animationBegin:i,animationDuration:r,animationEasing:l,connectNulls:s,dot:o,hide:c,isAnimationActive:d,label:g,legendType:h,xAxisId:m,yAxisId:x,id:u}=t,p=ec(t,el),{needClip:v}=(0,F.useNeedsClip)(m,x),j=(0,$.usePlotArea)(),y=(0,B.useChartLayout)(),f=(0,M.useIsPanorama)(),b=(0,_.useAppSelector)(e=>X(e,m,x,f,u));if("horizontal"!==y&&"vertical"!==y||null==b||null==j)return null;var{height:S,width:k,x:C,y:N}=j;return E.createElement(ey,ed({},p,{id:u,connectNulls:s,dot:o,activeDot:a,animateNewValues:n,animationBegin:i,animationDuration:r,animationEasing:l,isAnimationActive:d,hide:c,label:g,legendType:h,xAxisId:m,yAxisId:x,points:b,layout:y,height:S,width:k,left:C,top:N,needClip:v}))}function eE(e){var t=(0,Z.resolveDefaultProps)(e,ef),a=(0,M.useIsPanorama)();return E.createElement(ee.RegisterGraphicalItemId,{id:t.id,type:"line"},e=>E.createElement(E.Fragment,null,E.createElement(q.SetLegendPayload,{legendPayload:(e=>{var{dataKey:t,name:a,stroke:n,legendType:i,hide:r}=e;return[{inactive:r,dataKey:t,type:i,color:n,value:(0,I.getTooltipNameProp)(a,t),payload:e}]})(t)}),E.createElement(T.SetTooltipEntrySettings,{fn:eg,args:t}),E.createElement(et.SetCartesianGraphicalItem,{type:"line",id:e,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),E.createElement(eb,ed({},t,{id:e}))))}eE.displayName="Line";var eS=e.i(70065),ek=e.i(62870),eC=e.i(10708),eN=e.i(23750),ew=e.i(67881),eL=e.i(60313),eA=e.i(24931),eP=e.i(75117),eI=e.i(69035),eD=e.i(11522);let eT=e=>(0,t.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,t.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("circle",{cx:"9",cy:"7",r:"4",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),eR=e=>(0,t.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,t.jsx)("polyline",{points:"23,6 13.5,15.5 8.5,10.5 1,18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("polyline",{points:"17,6 23,6 23,12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),eF=e=>(0,t.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,t.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10",stroke:"currentColor",strokeWidth:"2"})]}),eB=e=>(0,t.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,t.jsx)("circle",{cx:"12",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M15.477 12.89L17 22l-5-3-5 3 1.523-9.11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]});function eM(){let{data:e,status:j}=(0,n.useSession)(),y=(0,i.useRouter)(),[f,E]=(0,a.useState)("6months"),[S,k]=(0,a.useState)("all"),[C,N]=(0,a.useState)("all"),[w,L]=(0,a.useState)("all"),[A,P]=(0,a.useState)("all"),[I,D]=(0,a.useState)(""),[T,R]=(0,a.useState)(""),[F,B]=(0,a.useState)("event"),[M,O]=(0,a.useState)("all"),[G,V]=(0,a.useState)("all"),[z,W]=(0,a.useState)(!1),[K,H]=(0,a.useState)(!1),[U,Y]=(0,a.useState)(!1),[J,X]=(0,a.useState)(!0),[_,q]=(0,a.useState)(!1),Q=(0,a.useRef)(null),[Z,$]=(0,a.useState)([]),[ee,et]=(0,a.useState)([]),[ea,en]=(0,a.useState)([]),[ei,er]=(0,a.useState)([]),[el,es]=(0,a.useState)([]),[eo,ec]=(0,a.useState)([]);(0,a.useEffect)(()=>{"unauthenticated"===j&&y.push("/")},[j,y]);let ed=()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].slice(0,new Date().getMonth()+1).map((e,t)=>{let a=120+8*t+t%3*15,n=45+3*t+t%2*8;return{month:e,eventAttendance:a,designationParticipation:n,totalEngagement:a+n,engagementRate:75+t%4*5,activeMembers:850+25*t+t%3*10}}),eg=()=>[{name:"Events",value:65,color:"#3B82F6",count:1250},{name:"Designations",value:35,color:"#10B981",count:675}],eh=()=>[{region:"North",totalEngagement:450,eventEngagement:320,designationEngagement:130,engagementRate:78},{region:"South",totalEngagement:380,eventEngagement:280,designationEngagement:100,engagementRate:72},{region:"East",totalEngagement:520,eventEngagement:380,designationEngagement:140,engagementRate:85},{region:"West",totalEngagement:340,eventEngagement:250,designationEngagement:90,engagementRate:68},{region:"Central",totalEngagement:290,eventEngagement:200,designationEngagement:90,engagementRate:65}],em=()=>[{name:"High Engagement",value:40,color:"#10B981",count:320},{name:"Medium Engagement",value:35,color:"#F59E0B",count:280},{name:"Low Engagement",value:25,color:"#EF4444",count:200}],[ex,eu]=(0,a.useState)(null),[ep,ev]=(0,a.useState)(!0),[ej,ey]=(0,a.useState)(null),[ef,eb]=(0,a.useState)(!1),[eM,eO]=(0,a.useState)(!1);(0,a.useEffect)(()=>{H(!0),eV(),eH(),eU(),eG()},[]);let eG=async function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{e&&ev(!0),ey(null);let t=new URLSearchParams;S&&"all"!==S&&t.append("regionId",S),C&&"all"!==C&&t.append("universityId",C),w&&"all"!==w&&t.append("smallGroupId",w),A&&"all"!==A&&t.append("alumniGroupId",A),I&&t.append("dateFrom",I),T&&t.append("dateTo",T),F&&t.append("engagementType",F),M&&"all"!==M&&t.append("selectedEvent",M),G&&"all"!==G&&t.append("selectedDesignation",G);let a=await fetch("/api/engagement/analytics?".concat(t.toString()));if(!a.ok)throw Error("Failed to fetch engagement analytics data");let n=await a.json();eu(n)}catch(e){console.error("Error fetching engagement analytics:",e),ey(e instanceof Error?e.message:"Failed to fetch engagement analytics data"),eu({engagementTrends:ed(),engagementTypeDistribution:eg(),regionalEngagement:eh(),eventEngagementLevels:em(),keyMetrics:{totalEngagement:1980,averageEngagementRate:73.6,eventParticipation:1430,designationParticipation:550,monthlyGrowth:12.5}})}finally{e&&ev(!1)}},eV=async()=>{try{let e=await fetch("/api/regions"),t=await e.json();$(t)}catch(e){console.error("Error fetching regions:",e)}};(0,a.useEffect)(()=>{S&&"all"!==S?(ez(Number(S)),eK(Number(S))):(et([]),er([]),N(""),P(""))},[S]),(0,a.useEffect)(()=>{C&&"all"!==C?eW(Number(C)):(en([]),L(""))},[C]);let ez=async e=>{try{let t=await fetch("/api/universities?regionId=".concat(e)),a=await t.json();et(a)}catch(e){console.error("Error fetching universities:",e)}},eW=async e=>{try{let t=await fetch("/api/small-groups?universityId=".concat(e)),a=await t.json();en(a)}catch(e){console.error("Error fetching small groups:",e)}},eK=async e=>{try{let t=await fetch("/api/alumni-small-groups?regionId=".concat(e)),a=await t.json();er(a)}catch(e){console.error("Error fetching alumni groups:",e)}},eH=async(e,t,a,n)=>{try{eb(!0);let i=new URLSearchParams;e&&"all"!==e&&i.append("regionId",e),t&&"all"!==t&&i.append("universityId",t),a&&"all"!==a&&i.append("smallGroupId",a),n&&"all"!==n&&i.append("alumniGroupId",n);let r=await fetch("/api/events?".concat(i.toString()));if(!r.ok)throw Error("Failed to fetch events");let l=await r.json();es(l.events||l||[])}catch(e){console.error("Error fetching events:",e)}finally{eb(!1)}},eU=async(e,t,a,n)=>{try{eO(!0);let i=new URLSearchParams;e&&"all"!==e&&i.append("regionId",e),t&&"all"!==t&&i.append("universityId",t),a&&"all"!==a&&i.append("smallGroupId",a),n&&"all"!==n&&i.append("alumniGroupId",n);let r=await fetch("/api/designations?".concat(i.toString()));if(!r.ok)throw Error("Failed to fetch designations");let l=await r.json();ec(l.designations||l||[])}catch(e){console.error("Error fetching designations:",e)}finally{eO(!1)}};(0,a.useEffect)(()=>{K&&eG(!1)},[S,C,w,A,I,T,F,M,G]),(0,a.useEffect)(()=>{K&&(S||C||w||A)&&(eH(S,C,w,A),eU(S,C,w,A))},[S,C,w,A]),(0,a.useEffect)(()=>{fetch("/api/members/current-user-scope").then(e=>e.json()).then(e=>{e.scope&&W("superadmin"===e.scope.scope)}).catch(e=>{console.error("Failed to fetch user scope:",e)})},[]);let eY=(0,a.useMemo)(()=>ex&&ex.keyMetrics?{totalEngagement:ex.keyMetrics.totalEngagement||0,averageEngagementRate:ex.keyMetrics.averageEngagementRate||0,eventParticipation:ex.keyMetrics.eventParticipation||0,designationParticipation:ex.keyMetrics.designationParticipation||0,monthlyGrowth:ex.keyMetrics.monthlyGrowth||0}:{totalEngagement:0,averageEngagementRate:0,eventParticipation:0,designationParticipation:0,monthlyGrowth:0},[ex]),eJ=(0,a.useMemo)(()=>ex?{engagementTrends:ex.engagementTrends||ed(),engagementTypeDistribution:ex.engagementTypeDistribution||eg(),regionalEngagement:ex.regionalEngagement||eh(),eventEngagementLevels:ex.eventEngagementLevels||em()}:{engagementTrends:ed(),engagementTypeDistribution:eg(),regionalEngagement:eh(),eventEngagementLevels:em()},[ex]),eX=[{value:"3months",label:"Last 3 Months"},{value:"6months",label:"Last 6 Months"},{value:"1year",label:"Last Year"},{value:"all",label:"All Time"}],e_=[{value:"event",label:"Events"},{value:"designation",label:"Designations"}],eq=async()=>{try{let e=new URLSearchParams;S&&"all"!==S&&e.append("regionId",S),C&&"all"!==C&&e.append("universityId",C),w&&"all"!==w&&e.append("smallGroupId",w),A&&"all"!==A&&e.append("alumniGroupId",A),I&&e.append("dateFrom",I),T&&e.append("dateTo",T),F&&e.append("engagementType",F),M&&"all"!==M&&e.append("selectedEvent",M),G&&"all"!==G&&e.append("selectedDesignation",G);let t=await fetch("/api/engagement/export-details?".concat(e.toString()));if(!t.ok)throw Error("Failed to fetch engagement details");return await t.json()}catch(e){return console.error("Error fetching engagement details:",e),null}},eQ=async()=>{if(Q.current){Y(!0);try{var e,t;let a=await eq(),n=new r.default("p","mm","a4"),i=n.internal.pageSize.getWidth(),l=n.internal.pageSize.getHeight();if(n.setFontSize(20),n.setFont("helvetica","bold"),n.text("Ministry Management System",i/2,20,{align:"center"}),n.setFontSize(16),n.setFont("helvetica","normal"),n.text("Engagement Reports & Analytics",i/2,30,{align:"center"}),n.setFontSize(10),n.text("Generated on: ".concat(new Date().toLocaleDateString()),20,45),n.text("Report Period: ".concat((null==(e=eX.find(e=>e.value===f))?void 0:e.label)||"Custom"),20,50),n.text("Engagement Type: ".concat(null==(t=e_.find(e=>e.value===F))?void 0:t.label),20,55),"event"===F&&"all"!==M){let e=el.find(e=>e.id.toString()===M);n.text("Selected Event: ".concat((null==e?void 0:e.name)||M),20,60)}if("designation"===F&&"all"!==G){let e=eo.find(e=>e.id.toString()===G);n.text("Selected Designation: ".concat((null==e?void 0:e.name)||G),20,60)}if(n.setFontSize(12),n.setFont("helvetica","bold"),n.text("Executive Summary",20,70),n.setFontSize(10),n.setFont("helvetica","normal"),n.text("Total Engagement: ".concat(eY.totalEngagement.toLocaleString()),20,80),n.text("Average Engagement Rate: ".concat(eY.averageEngagementRate,"%"),20,85),n.text("Event Participation: ".concat(eY.eventParticipation),20,90),n.text("Designation Participation: ".concat(eY.designationParticipation),20,95),n.text("Monthly Growth: ".concat(eY.monthlyGrowth,"%"),20,100),a&&a.engagementDetails.length>0){let e=120;120>l-50&&(n.addPage(),e=20),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Engagement Details",20,e),e+=10,n.setFontSize(10),n.setFont("helvetica","normal");let t=a.appliedFilters,i=Object.entries(t).filter(e=>{let[t,a]=e;return a&&"all"!==a&&""!==a}).map(e=>{let[t,a]=e;return"".concat(t,": ").concat(a)}).join(", ");i&&(n.text("Applied Filters: ".concat(i),20,e),e+=8),n.text("Total Engagement Records: ".concat(a.totalCount),20,e),e+=15,n.setFontSize(8),n.setFont("helvetica","bold");let r=[15,35,40,20,25,25],s=20;["Type","Member","Event/Designation","Status","Date","Region"].forEach((t,a)=>{n.text(t,s,e),s+=r[a]}),e+=5,n.line(20,e,20+r.reduce((e,t)=>e+t,0),e),e+=3,n.setFont("helvetica","normal"),a.engagementDetails.slice(0,50).forEach((t,a)=>{e>l-20&&(n.addPage(),e=20),s=20,[t.type||"N/A",t.memberName||"N/A",t.eventName||t.designationName||"N/A",t.attendanceStatus||t.status||"N/A",t.recordedAt?new Date(t.recordedAt).toLocaleDateString():t.createdAt?new Date(t.createdAt).toLocaleDateString():"N/A",t.region||"N/A"].forEach((t,a)=>{let i=t.length>15?t.substring(0,12)+"...":t;n.text(i,s,e),s+=r[a]}),e+=5})}let s="Engagement_Report_".concat(F,"_").concat(new Date().toISOString().split("T")[0],".pdf");n.save(s)}catch(e){console.error("Error generating PDF:",e),alert("Error generating PDF. Please try again.")}finally{Y(!1)}}};return"loading"===j?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):"unauthenticated"===j?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Redirecting..."}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"Please wait while we redirect you to the login page."})]})}):!K||ep?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading engagement data..."}),(0,t.jsx)("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2",children:"Fetching analytics and chart data..."})]})}):ej?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-red-600 mb-4",children:(0,t.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Error Loading Data"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:ej}),(0,t.jsx)("button",{onClick:()=>eG(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})}):(0,t.jsxs)(eD.SidebarProvider,{children:[(0,t.jsx)(eL.AppSidebar,{}),(0,t.jsxs)(eD.SidebarInset,{children:[(0,t.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4",children:[(0,t.jsx)(eD.SidebarTrigger,{className:"-ml-1"}),(0,t.jsx)(eI.Separator,{orientation:"vertical",className:"mr-2 data-[orientation=vertical]:h-4"}),(0,t.jsx)(eP.Breadcrumb,{children:(0,t.jsxs)(eP.BreadcrumbList,{children:[(0,t.jsx)(eP.BreadcrumbItem,{className:"hidden md:block",children:(0,t.jsx)(eP.BreadcrumbLink,{href:"/dashboard",children:"Dashboard"})}),(0,t.jsx)(eP.BreadcrumbSeparator,{className:"hidden md:block"}),(0,t.jsx)(eP.BreadcrumbItem,{children:(0,t.jsx)(eP.BreadcrumbLink,{href:"/links/reports",children:"Reports"})}),(0,t.jsx)(eP.BreadcrumbSeparator,{}),(0,t.jsx)(eP.BreadcrumbItem,{children:(0,t.jsx)(eP.BreadcrumbPage,{children:"Engagement Analytics"})})]})})]}),(0,t.jsx)("div",{className:"ml-auto px-4",children:(0,t.jsx)(eA.LogoutButton,{})})]}),(0,t.jsx)("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:(0,t.jsxs)("div",{className:"space-y-6",ref:Q,children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white dark:text-white",children:"Engagement Analytics"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive engagement reports and insights"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(ew.Button,{onClick:()=>X(!J),variant:"outline",className:"flex items-center gap-2",children:J?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Hide Filters"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Show Filters"]})}),(0,t.jsxs)("div",{className:"relative export-options-dropdown",children:[(0,t.jsxs)(ew.Button,{onClick:()=>q(!_),variant:"outline",className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Options",(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),_&&(0,t.jsx)("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10",children:(0,t.jsx)("div",{className:"p-4 space-y-4",children:(0,t.jsx)(ew.Button,{onClick:()=>{q(!1),eQ()},disabled:U,className:"w-full flex items-center justify-center gap-2",children:U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export PDF"]})})})})]})]})]}),J&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(eS.Card,{children:[(0,t.jsx)(eS.CardHeader,{children:(0,t.jsxs)(eS.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Organizational Structure"]})}),(0,t.jsx)(eS.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eC.Label,{htmlFor:"region",children:"Region"}),(0,t.jsxs)(ek.Select,{value:S,onValueChange:e=>{k(e),N("all"),L("all"),P("all"),O("all"),V("all"),eH(e),eU(e)},children:[(0,t.jsx)(ek.SelectTrigger,{children:(0,t.jsx)(ek.SelectValue,{placeholder:"Select region"})}),(0,t.jsxs)(ek.SelectContent,{children:[(0,t.jsx)(ek.SelectItem,{value:"all",children:"All Regions"}),Z.map(e=>(0,t.jsx)(ek.SelectItem,{value:e.id.toString(),children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eC.Label,{htmlFor:"university",children:"University"}),(0,t.jsxs)(ek.Select,{value:C,onValueChange:e=>{N(e),L("all"),P("all"),O("all"),V("all"),eH(S,e),eU(S,e)},disabled:!S||"all"===S,children:[(0,t.jsx)(ek.SelectTrigger,{children:(0,t.jsx)(ek.SelectValue,{placeholder:S&&"all"!==S?"Select university":"Select region first"})}),(0,t.jsxs)(ek.SelectContent,{children:[(0,t.jsx)(ek.SelectItem,{value:"all",children:"All Universities"}),ee.map(e=>(0,t.jsx)(ek.SelectItem,{value:e.id.toString(),children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eC.Label,{htmlFor:"smallGroup",children:"Small Group"}),(0,t.jsxs)(ek.Select,{value:w,onValueChange:e=>{L(e),P("all"),O("all"),V("all"),eH(S,C,e),eU(S,C,e)},disabled:!C||"all"===C,children:[(0,t.jsx)(ek.SelectTrigger,{children:(0,t.jsx)(ek.SelectValue,{placeholder:C&&"all"!==C?"Select small group":"Select university first"})}),(0,t.jsxs)(ek.SelectContent,{children:[(0,t.jsx)(ek.SelectItem,{value:"all",children:"All Small Groups"}),ea.map(e=>(0,t.jsx)(ek.SelectItem,{value:e.id.toString(),children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eC.Label,{htmlFor:"alumniGroup",children:"Alumni Group"}),(0,t.jsxs)(ek.Select,{value:A,onValueChange:e=>{P(e),O("all"),V("all"),eH(S,C,w,e),eU(S,C,w,e)},disabled:!S||"all"===S,children:[(0,t.jsx)(ek.SelectTrigger,{children:(0,t.jsx)(ek.SelectValue,{placeholder:S&&"all"!==S?"Select alumni group":"Select region first"})}),(0,t.jsxs)(ek.SelectContent,{children:[(0,t.jsx)(ek.SelectItem,{value:"all",children:"All Alumni Groups"}),ei.map(e=>(0,t.jsx)(ek.SelectItem,{value:e.id.toString(),children:e.name},e.id))]})]})]})]})})]}),(0,t.jsxs)(eS.Card,{children:[(0,t.jsx)(eS.CardHeader,{children:(0,t.jsxs)(eS.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Engagement Type & Time Range"]})}),(0,t.jsx)(eS.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eC.Label,{htmlFor:"engagementType",children:"Engagement Type"}),(0,t.jsxs)(ek.Select,{value:F,onValueChange:B,children:[(0,t.jsx)(ek.SelectTrigger,{children:(0,t.jsx)(ek.SelectValue,{placeholder:"Select engagement type"})}),(0,t.jsx)(ek.SelectContent,{children:e_.map(e=>(0,t.jsx)(ek.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),"event"===F&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eC.Label,{htmlFor:"selectedEvent",children:"Select Event"}),(0,t.jsxs)(ek.Select,{value:M,onValueChange:e=>{O(e)},disabled:ef,children:[(0,t.jsx)(ek.SelectTrigger,{children:(0,t.jsx)(ek.SelectValue,{placeholder:ef?"Loading events...":S&&"all"!==S?"Select event":"Select organizational structure first"})}),(0,t.jsxs)(ek.SelectContent,{children:[(0,t.jsx)(ek.SelectItem,{value:"all",children:"All Events"}),ef?(0,t.jsx)(ek.SelectItem,{value:"loading",disabled:!0,children:"Loading events..."}):el.length>0?el.map(e=>(0,t.jsx)(ek.SelectItem,{value:e.id.toString(),children:e.name},e.id)):(0,t.jsx)(ek.SelectItem,{value:"no-events",disabled:!0,children:"No events found for selected organization"})]})]})]}),"designation"===F&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eC.Label,{htmlFor:"selectedDesignation",children:"Select Designation"}),(0,t.jsxs)(ek.Select,{value:G,onValueChange:e=>{V(e)},disabled:eM,children:[(0,t.jsx)(ek.SelectTrigger,{children:(0,t.jsx)(ek.SelectValue,{placeholder:eM?"Loading designations...":S&&"all"!==S?"Select designation":"Select organizational structure first"})}),(0,t.jsxs)(ek.SelectContent,{children:[(0,t.jsx)(ek.SelectItem,{value:"all",children:"All Designations"}),eM?(0,t.jsx)(ek.SelectItem,{value:"loading",disabled:!0,children:"Loading designations..."}):eo.length>0?eo.map(e=>(0,t.jsx)(ek.SelectItem,{value:e.id.toString(),children:e.name},e.id)):(0,t.jsx)(ek.SelectItem,{value:"no-designations",disabled:!0,children:"No designations found for selected organization"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eC.Label,{htmlFor:"dateRange",children:"Time Period"}),(0,t.jsxs)(ek.Select,{value:f,onValueChange:E,children:[(0,t.jsx)(ek.SelectTrigger,{children:(0,t.jsx)(ek.SelectValue,{placeholder:"Select period"})}),(0,t.jsx)(ek.SelectContent,{children:eX.map(e=>(0,t.jsx)(ek.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eC.Label,{htmlFor:"dateFrom",children:"From Date"}),(0,t.jsx)(eN.Input,{type:"date",value:I,onChange:e=>D(e.target.value)})]})]})})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Use filters to generate specific engagement reports for different audiences"}),(0,t.jsxs)(ew.Button,{onClick:()=>{E("6months"),k("all"),N("all"),L("all"),P("all"),D(""),R(""),B("event"),O("all"),V("all")},variant:"outline",className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset All Filters"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 ".concat(F?"lg:grid-cols-3":"lg:grid-cols-5"),children:[(0,t.jsx)(eS.Card,{children:(0,t.jsxs)(eS.CardContent,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:eY.totalEngagement.toLocaleString()}),(0,t.jsxs)("p",{className:"text-sm text-blue-500 dark:text-blue-300",children:[eY.monthlyGrowth>0?"+":"",eY.monthlyGrowth,"% from last period"]})]}),(0,t.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-full",children:(0,t.jsx)(eT,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-200 mt-2",children:"Total Engagement"})]})}),(0,t.jsx)(eS.Card,{children:(0,t.jsxs)(eS.CardContent,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[eY.averageEngagementRate,"%"]}),(0,t.jsx)("p",{className:"text-sm text-green-500 dark:text-green-300",children:"Average rate"})]}),(0,t.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-full",children:(0,t.jsx)(eR,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-green-700 dark:text-green-200 mt-2",children:"Engagement Rate"})]})}),(!F||"event"===F)&&(0,t.jsx)(eS.Card,{children:(0,t.jsxs)(eS.CardContent,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:eY.eventParticipation}),(0,t.jsx)("p",{className:"text-sm text-purple-500 dark:text-purple-300",children:"Event participation"})]}),(0,t.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-full",children:(0,t.jsx)(eF,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-purple-700 dark:text-purple-200 mt-2",children:"Event Participation"})]})}),(!F||"designation"===F)&&(0,t.jsx)(eS.Card,{children:(0,t.jsxs)(eS.CardContent,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:eY.designationParticipation}),(0,t.jsx)("p",{className:"text-sm text-yellow-500 dark:text-yellow-300",children:"Designation participation"})]}),(0,t.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900 rounded-full",children:(0,t.jsx)(eB,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-200 mt-2",children:"Designation Participation"})]})}),(0,t.jsx)(eS.Card,{children:(0,t.jsxs)(eS.CardContent,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:[eY.monthlyGrowth,"%"]}),(0,t.jsx)("p",{className:"text-sm text-indigo-500 dark:text-indigo-300",children:"Monthly growth"})]}),(0,t.jsx)("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900 rounded-full",children:(0,t.jsx)(eR,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-indigo-700 dark:text-indigo-200 mt-2",children:"Growth Rate"})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 ".concat(F?"lg:grid-cols-1":"lg:grid-cols-2"),children:[(0,t.jsxs)(eS.Card,{children:[(0,t.jsxs)(eS.CardHeader,{children:[(0,t.jsx)(eS.CardTitle,{children:"event"===F?"Event Attendance Trends":"designation"===F?"Designation Participation Trends":"Engagement Trends Over Time"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"event"===F?"Monthly event attendance patterns":"designation"===F?"Monthly designation participation patterns":"Monthly engagement patterns for events and designations"})]}),(0,t.jsx)(eS.CardContent,{children:(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(h.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(v.AreaChart,{data:eJ.engagementTrends,children:[(0,t.jsx)(d.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(o.XAxis,{dataKey:"month"}),(0,t.jsx)(c.YAxis,{}),(0,t.jsx)(g.Tooltip,{}),(!F||"event"===F)&&(0,t.jsx)(p.Area,{type:"monotone",dataKey:"eventAttendance",stackId:"1",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.6,name:"Event Attendance"}),(!F||"designation"===F)&&(0,t.jsx)(p.Area,{type:"monotone",dataKey:"designationParticipation",stackId:"2",stroke:"#10B981",fill:"#10B981",fillOpacity:.6,name:"Designation Participation"})]})})})})]}),!F&&(0,t.jsxs)(eS.Card,{children:[(0,t.jsxs)(eS.CardHeader,{children:[(0,t.jsx)(eS.CardTitle,{children:"Engagement Type Distribution"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Breakdown of engagement by type"})]}),(0,t.jsx)(eS.CardContent,{children:(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(h.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(m.PieChart,{children:[(0,t.jsx)(x.Pie,{data:eJ.engagementTypeDistribution,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:a}=e;return"".concat(t," ").concat((100*(a||0)).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:eJ.engagementTypeDistribution.map((e,a)=>(0,t.jsx)(u.Cell,{fill:e.color},"cell-".concat(a)))}),(0,t.jsx)(g.Tooltip,{})]})})})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 ".concat(F?"lg:grid-cols-1":"lg:grid-cols-2"),children:[(0,t.jsxs)(eS.Card,{children:[(0,t.jsxs)(eS.CardHeader,{children:[(0,t.jsx)(eS.CardTitle,{children:S&&"all"!==S?"event"===F?"University Event Attendance Comparison":"designation"===F?"University Designation Participation Comparison":"University Engagement Comparison":C&&"all"!==C?"event"===F?"Small Group Event Attendance Comparison":"designation"===F?"Small Group Designation Participation Comparison":"Small Group Engagement Comparison":"event"===F?"Regional Event Attendance":"designation"===F?"Regional Designation Participation":"Regional Engagement Analysis"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:S&&"all"!==S?"event"===F?"Event attendance levels across universities in the selected region":"designation"===F?"Designation participation levels across universities in the selected region":"Engagement levels across universities in the selected region":C&&"all"!==C?"event"===F?"Event attendance levels across small groups in the selected university":"designation"===F?"Designation participation levels across small groups in the selected university":"Engagement levels across small groups in the selected university":"event"===F?"Event attendance levels across different regions":"designation"===F?"Designation participation levels across different regions":"Engagement levels across different regions"})]}),(0,t.jsx)(eS.CardContent,{children:(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(h.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(l.BarChart,{data:eJ.regionalEngagement,children:[(0,t.jsx)(d.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(o.XAxis,{dataKey:"region",tick:{fontSize:12},angle:S&&"all"!==S||C&&"all"!==C?-45:0,textAnchor:S&&"all"!==S||C&&"all"!==C?"end":"middle",height:S&&"all"!==S||C&&"all"!==C?80:60}),(0,t.jsx)(c.YAxis,{}),(0,t.jsx)(g.Tooltip,{}),(!F||"event"===F)&&(0,t.jsx)(s.Bar,{dataKey:"eventEngagement",fill:"#3B82F6",name:"Event Engagement"}),(!F||"designation"===F)&&(0,t.jsx)(s.Bar,{dataKey:"designationEngagement",fill:"#10B981",name:"Designation Engagement"}),!F&&(0,t.jsx)(s.Bar,{dataKey:"totalEngagement",fill:"#8B5CF6",name:"Total Engagement"})]})})})})]}),!F&&(0,t.jsxs)(eS.Card,{children:[(0,t.jsxs)(eS.CardHeader,{children:[(0,t.jsx)(eS.CardTitle,{children:"Engagement Rate Trends"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly engagement rate progression"})]}),(0,t.jsx)(eS.CardContent,{children:(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(h.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(b,{data:eJ.engagementTrends,children:[(0,t.jsx)(d.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(o.XAxis,{dataKey:"month"}),(0,t.jsx)(c.YAxis,{}),(0,t.jsx)(g.Tooltip,{}),(0,t.jsx)(eE,{type:"monotone",dataKey:"engagementRate",stroke:"#F59E0B",strokeWidth:3,name:"Engagement Rate %"})]})})})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 ".concat(F?"lg:grid-cols-1":"lg:grid-cols-2"),children:[(0,t.jsxs)(eS.Card,{children:[(0,t.jsxs)(eS.CardHeader,{children:[(0,t.jsx)(eS.CardTitle,{children:"event"===F?"Event Engagement Levels":"designation"===F?"Designation Engagement Levels":"Engagement Levels"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"event"===F?"Distribution of event engagement intensity levels":"designation"===F?"Distribution of designation engagement intensity levels":"Distribution of engagement intensity levels"})]}),(0,t.jsx)(eS.CardContent,{children:(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(h.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(m.PieChart,{children:[(0,t.jsx)(x.Pie,{data:eJ.eventEngagementLevels,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:a}=e;return"".concat(t," ").concat((100*(a||0)).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:eJ.eventEngagementLevels.map((e,a)=>(0,t.jsx)(u.Cell,{fill:e.color},"cell-".concat(a)))}),(0,t.jsx)(g.Tooltip,{})]})})})})]}),!F&&(0,t.jsxs)(eS.Card,{children:[(0,t.jsxs)(eS.CardHeader,{children:[(0,t.jsx)(eS.CardTitle,{children:S&&"all"!==S?"University Engagement Rates":C&&"all"!==C?"Small Group Engagement Rates":"Regional Engagement Rates"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:S&&"all"!==S?"Engagement rates by university in the selected region":C&&"all"!==C?"Engagement rates by small group in the selected university":"Engagement rates by region"})]}),(0,t.jsx)(eS.CardContent,{children:(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(h.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(l.BarChart,{data:eJ.regionalEngagement,children:[(0,t.jsx)(d.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(o.XAxis,{dataKey:"region",tick:{fontSize:12},angle:S&&"all"!==S||C&&"all"!==C?-45:0,textAnchor:S&&"all"!==S||C&&"all"!==C?"end":"middle",height:S&&"all"!==S||C&&"all"!==C?80:60}),(0,t.jsx)(c.YAxis,{}),(0,t.jsx)(g.Tooltip,{}),(0,t.jsx)(s.Bar,{dataKey:"engagementRate",fill:"#EC4899",name:"Engagement Rate %"})]})})})})]})]})]})})]})]})}}]);