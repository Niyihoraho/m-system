(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73741,e=>{"use strict";e.s(["Root",()=>n]);var a=e.i(71645),s=e.i(48425),t=e.i(43476),r=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));r.displayName="Label";var n=r},70065,10708,e=>{"use strict";e.s(["Card",()=>t,"CardContent",()=>l,"CardHeader",()=>r,"CardTitle",()=>n],70065);var a=e.i(43476),s=e.i(47163);function t(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function r(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...r})}e.s(["Label",()=>o],10708);var i=e.i(73741);function o(e){let{className:t,...r}=e;return(0,a.jsx)(i.Root,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}},18566,(e,a,s)=>{a.exports=e.r(76562)},63488,e=>{"use strict";e.s(["Mail",()=>a],63488);let a=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},79002,e=>{"use strict";e.s(["UserPlus",()=>a],79002);let a=(0,e.i(75254).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},70756,e=>{"use strict";e.s(["Lock",()=>a],70756);let a=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},31713,e=>{"use strict";e.s(["default",()=>x],31713);var a=e.i(43476),s=e.i(71645),t=e.i(18566),r=e.i(26732),n=e.i(67881),l=e.i(70065),i=e.i(23750),o=e.i(10708),d=e.i(63488),c=e.i(70756);let m=(0,e.i(75254).default)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var u=e.i(79002);function x(){let[e,x]=(0,s.useState)(!0),[h,p]=(0,s.useState)({name:"",username:"",email:"",password:"",confirmPassword:"",contact:""}),[g,f]=(0,s.useState)(!1),[y,j]=(0,s.useState)(null),[w,v]=(0,s.useState)(null),b=(0,t.useRouter)(),N=(e,a)=>{p(s=>({...s,[e]:a})),j(null),v(null)},C=async e=>{e.preventDefault(),f(!0),j(null);try{let e=await (0,r.signIn)("credentials",{email:h.email,password:h.password,redirect:!1});if(null==e?void 0:e.error)return void j("Invalid credentials. Please try again.");(null==e?void 0:e.ok)&&(v("Login successful! Redirecting..."),setTimeout(()=>{b.push("/dashboard")},1500))}catch(e){console.error("Login error:",e),j("Login failed. Please try again.")}finally{f(!1)}},P=async e=>{if(e.preventDefault(),f(!0),j(null),h.password!==h.confirmPassword){j("Passwords do not match"),f(!1);return}try{let e=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}),a=await e.json();if(!e.ok)return void j(a.error||"Registration failed");v("Registration successful! You can now login."),x(!0),p({name:"",username:"",email:"",password:"",confirmPassword:"",contact:""})}catch(e){console.error("Registration error:",e),j("Registration failed. Please try again.")}finally{f(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 p-4",children:(0,a.jsxs)(l.Card,{className:"w-full max-w-md",children:[(0,a.jsxs)(l.CardHeader,{className:"text-center",children:[(0,a.jsx)(l.CardTitle,{className:"text-2xl font-bold",children:e?"Welcome Back":"Create Account"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:e?"Sign in to your account to continue":"Sign up for a new account to get started"})]}),(0,a.jsxs)(l.CardContent,{children:[(0,a.jsxs)("form",{onSubmit:e?C:P,className:"space-y-4",children:[y&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:y}),w&&(0,a.jsx)("div",{className:"p-3 text-sm text-green-600 bg-green-50 border border-green-200 rounded-md",children:w}),!e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.Label,{htmlFor:"name",className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(u.UserPlus,{className:"h-4 w-4"}),"Full Name"]}),(0,a.jsx)(i.Input,{id:"name",placeholder:"Enter your full name",value:h.name,onChange:e=>N("name",e.target.value),required:!e})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.Label,{htmlFor:"username",className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(u.UserPlus,{className:"h-4 w-4"}),"Username"]}),(0,a.jsx)(i.Input,{id:"username",placeholder:"Enter username",value:h.username,onChange:e=>N("username",e.target.value),required:!e})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.Label,{htmlFor:"contact",className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(u.UserPlus,{className:"h-4 w-4"}),"Contact Number (Optional)"]}),(0,a.jsx)(i.Input,{id:"contact",placeholder:"Enter contact number",value:h.contact,onChange:e=>N("contact",e.target.value)})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.Label,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(d.Mail,{className:"h-4 w-4"}),"Email Address"]}),(0,a.jsx)(i.Input,{id:"email",type:"email",placeholder:"Enter your email",value:h.email,onChange:e=>N("email",e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.Label,{htmlFor:"password",className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(c.Lock,{className:"h-4 w-4"}),"Password"]}),(0,a.jsx)(i.Input,{id:"password",type:"password",placeholder:"Enter your password",value:h.password,onChange:e=>N("password",e.target.value),required:!0})]}),!e&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.Label,{htmlFor:"confirmPassword",className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(c.Lock,{className:"h-4 w-4"}),"Confirm Password"]}),(0,a.jsx)(i.Input,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:h.confirmPassword,onChange:e=>N("confirmPassword",e.target.value),required:!e})]}),(0,a.jsx)(n.Button,{type:"submit",className:"w-full h-11",disabled:g,children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Signing In...":"Creating Account..."]}):(0,a.jsx)(a.Fragment,{children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{className:"h-4 w-4 mr-2"}),"Sign In"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.UserPlus,{className:"h-4 w-4 mr-2"}),"Create Account"]})})})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"gbur ministry"})})]})]})})}}]);